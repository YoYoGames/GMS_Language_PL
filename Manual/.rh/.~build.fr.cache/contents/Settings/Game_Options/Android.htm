
  
  Opcje gier w systemie Android
  W tej sekcji opisano różne dostępne opcje, które pozwalają kontrolować sposób kompilowania projektów gier Android. Poszczególne sekcje to:
   
  Ogólne
  Pierwsza część sekcji Ogólne jest poświęcona Informacjom o produkcie oraz Ustawieniom budowania. Należy wypełnić Informacje o produkcie, które obejmują Nazwę wyświetlaną projektu, Informacje o pakiecie, które składają się z Domeny, Firmy i Produktu. Informacje o pakiecie mogą składać się wyłącznie z liter od A-Z i cyfr 0-9, bez symboli i innych znaków specjalnych, nie powinny też zawierać wielkich liter. Informacje te zostaną następnie wykorzystane do wygenerowania identyfikatora pakietu w formacie "com.company.myappname".
  Następnie należy ustawić Narzędzia do budowania oraz Wersje docelowe, minimalne i kompilowane SDK.
  UWAGA: Istnieje także opcja określająca wersję "Support Library", która ma być używana. Od wersji GameMaker 2.2.4 nie jest ona już wymagana, a wszelkie wartości użyte w tym miejscu zostaną zignorowane. Ustawienie to zostało zachowane do użytku w starszych projektach, które wymagają wersji runtime wcześniejszej niż 2.2.4.
  Narzędzia do budowania (i biblioteka pomocnicza, jeśli jest wymagana) są używane podczas budowania gry w programie GameMaker dla systemu Android i powinny być ustawione na odpowiednie wartości w zależności od narzędzi zainstalowanych w Android Studio.
  
     Target SDK wskazuje, że aplikacja została przetestowana na wersji (do podanej tutaj włącznie). Ma to na celu umożliwienie systemowi Android zorientowanie się, jak powinien obsługiwać Twoją aplikację pod względem funkcji systemu. Ze względów praktycznych większość aplikacji będzie chciała ustawić opcję Target SDK na najnowszą wydaną wersję API (zgodnie z ustawieniami Compile SDK). Dzięki temu Twoja aplikacja będzie wyglądać tak dobrze, jak to tylko możliwe na najnowszych urządzeniach Android. Należy pamiętać, że od listopada 2019 roku Google wprowadziło poziom API 28 jako wymagany poziom docelowy.
     Minimalna wersja SDK to minimalny poziom API, na którym będzie działać Twój projekt. Od listopada 2019 r. Google wyznaczyło poziom API 16 jako absolutne minimum, ale jeśli dodasz stronę extensions, może ona wymagać wyższego minimalnego poziomu API.
    Wersja Compile SDK jest wersją API, z którą projekt jest kompilowany. Oznacza to, że można używać funkcji API Android zawartych w tej wersji API. Jeśli na przykład spróbujesz użyć funkcji API 16, ale ustawisz Compile SDK 15, otrzymasz błąd kompilacji. Jeśli jednak ustawisz Compile SDK na 28, nadal będziesz mógł uruchomić aplikację na urządzeniu z interfejsem API 26 (a także wszystkimi poprzednimi wersjami).
  
  Można wybrać jedno z predefiniowanych ustawień docelowych, klikając przycisk Wstępnie wypełnij wartości SDK do wybranego poziomu API, co spowoduje otwarcie listy różnych interfejsów API do wyboru. Wybranie dowolnego z nich spowoduje wypełnienie wszystkich plików SDK odpowiednimi wartościami, które można następnie wykorzystać lub edytować zgodnie z potrzebami.
  UWAGA: Aby projekty zostały poprawnie skompilowane, należy zainstalować odpowiednie interfejsy API w menedżerze Android SDK Manager lub za pośrednictwem Android Studio.
  
  Druga część sekcji Ogólne dotyczy architektur procesora, dla których ma być tworzony program. Dostępne są następujące opcje (można wybrać wszystkie lub tylko te, które są potrzebne, ale należy pamiętać, że każda z nich zwiększy ostateczny rozmiar skompilowanego apk):
  
    Buduj dla ARMV5 (domyślnie zaznaczone)
    Zbuduj dla ARMV7 (domyślnie zaznaczone)
    Buduj dla x86 (domyślnie zaznaczone)
    Buduj dla Mips (zaznaczone domyślnie)
    Zbuduj dla ARM64
    Kompilacja dla x86_64
  
  Po skonfigurowaniu tej opcji można wybrać różne orientacje, w których gra może być uruchamiana, aby zapewnić jak najlepsze wrażenia. Dostępne opcje to:
  
    Portret
    Odwrócona w pionie
    Krajobraz
    Przerzucanie krajobrazu
  
  Na koniec dostępne są następujące różne opcje:
  
    Włącz obsługę Bluetooth/iCade: To spowoduje dodanie do projektu gry obsługi gamepadów bluetooth lub iCade. Domyślnie opcja ta jest włączona.
    Uruchom analizę kodu Lint: Gdy ta opcja jest zaznaczona, narzędzia kompilacji uruchomią analizę kodu lint na projekcie podczas jego kompilacji, dając bardziej dogłębną kontrolę błędów i pokazując więcej informacji w oknie wyjściowym podczas kompilacji projektu (zostanie także utworzony plik LOG, z path do pliku pokazanego na końcu kompilacji w oknie wyjściowym). Należy pamiętać, że nie wszystko, co jest sygnalizowane przez analizę lint jako błąd, musi być problematyczne dla gry, a włączenie tej funkcji może spowodować, że gra przestanie się kompilować, mimo że gdy jest wyłączona, będzie się kompilować i działać poprawnie. Zasadniczo dotyczy to tylko witryny debugging, a opcja ta jest domyślnie wyłączona.
    Lokalizacja instalacji: W tym miejscu możesz ustawić domyślną lokalizację instalacji dla swojej gry. Można wybrać opcję Automatycznie, co spowoduje, że gra zostanie zainstalowana w lokalizacji wybranej przez użytkownika na jego urządzeniu, lub opcję Preferuj zewnętrzne, co spowoduje, że gra będzie zawsze próbowała zostać zainstalowana w pamięci zewnętrznej urządzenia.
  
  Można tu również ustawić Margines uśpienia systemu Android. Ta opcja jest związana z redukcją zacinania się gry podczas uruchamiania jej na określonych systemach. Zasadniczo, jeśli Twoja gra działa szybciej niż prędkość room, GameMaker "uśpi" ją na pozostały czas, ale to uśpienie może być dość niedokładne i często może skończyć się uśpieniem dłuższym niż to konieczne, powodując wydłużenie czasu wyświetlania klatek, co powoduje zacinanie się gry. Aby to obejść, możemy spać krócej, a następnie przez resztę czasu siedzieć w ciasnym miejscu pod adresem loop, co sprawi, że pomiar będzie dokładniejszy. Problem z siedzeniem pod adresem loop polega jednak na tym, że powoduje to większe użycie procesora, co z kolei może spowodować wzrost temperatury procesora i większe zużycie baterii przez urządzenie. Domyślnie wartość ta jest ustawiona na 4 i w 99,99% przypadków będzie ona wystarczająca, ale w przypadku urządzeń z niższej półki lub urządzeń, w których działa wiele procesów w tle, może to nie być idealne rozwiązanie i może być wymagana wartość od 5 do 10. Należy jednak pamiętać, że jest to konfiguracja zależna od urządzenia i to, co działa na Twoim urządzeniu, może nie być odpowiednie dla innego użytkownika, dlatego w razie wątpliwości pozostaw ustawienie 4.
   
  Ikony adaptacyjne
  W systemie Android 8.0 (poziom API 26) wprowadzono adaptacyjne ikony launchera dla gier. Ikony te mogą mieć różne kształty na różnych modelach urządzeń. Aby sobie z tym poradzić, należy dostarczyć pewną liczbę obrazów pierwszego planu i tła, aby ikony były wyświetlane w różnych rozmiarach. Te rozmiary ikon to:
  
    81x81 pikseli (LDPI)
    108x108 pikseli MDPI)
    162x162 pikseli (HDPI)
    216x216 pikseli (XHDPI)
    324x324 pikseli (XXHDPI)
    432x432 pikseli (XXXHDPI)
  
  Możesz dostarczyć każdy obrazek tła i tła osobno lub wybrać opcję Generuj ikony z pliku. Oznacza to, że GameMaker wygeneruje wymagane obrazy ikon z pliku podstawowego (XXXHDPI). Musisz dostarczyć po jednym obrazku dla pierwszego planu i tła, a następnie kliknąć przycisk Generuj, a ikony zostaną utworzone. Wszystkie obrazy powinny być w formacie *.png.
  Należy pamiętać, że ikony adaptacyjne mogą być maskowane na każdym urządzeniu, dlatego można sprawdzić, jak będą wyglądać z tymi maskami, korzystając z menu Podgląd ikon adaptacyjnych:
  Należy pamiętać, że jest to tylko podgląd tego, jak ikona może wyglądać z wybraną maską, a ustawienie to nie ma wpływu na sposób eksportowania i wyświetlania ikon, ponieważ zależy to od urządzenia i systemu operacyjnego, na którym gra będzie uruchamiana. Należy również pamiętać, że ikony te nie są tworzone w ramach generowania obrazu za pomocą narzędzia Generator obrazu projektu.
   
  Grafika
  W tym miejscu można zmienić następujące szczegóły dotyczące sposobu wyświetlania gry, przy czym dostępne są następujące opcje:
  
    Interpoluj kolory między pikselami: Włącza interpolację liniową, która zasadniczo "wygładza" piksele. W przypadku wyraźnej grafiki pikselowej powinno być wyłączone, ale jeśli chcesz uzyskać ładne mieszanki alfa i grafikę o wygładzonych krawędziach, lepiej pozostawić to włączone. Domyślnie opcja ta jest włączona.
    Głębia kolorów ekranu: Można tu ustawić głębię kolorów dla renderowania na 16bit lub 24bit. Ustawienie 24bit wpłynie na kompatybilność z niektórymi starszymi urządzeniami, a także zwiększy zapotrzebowanie na ashmem (jest to pamięć współdzielona w urządzeniach AmazonFire).
    Obsługa urządzeń: Ta opcja określa, czy gra ma obsługiwać tylko urządzenia z dedykowanym układem GPU, czy też wszystkie urządzenia. Zasadniczo, jeśli Twoja gra zawiera zaawansowane funkcje rysowania, takie jak mieszanie alfa, mieszanie addytywne, powierzchnie itp... powinieneś ograniczyć ją do urządzeń z GPU, w przeciwnym razie ryzykujesz, że otrzymasz negatywne komentarze i niską ocenę gry z powodu błędów graficznych lub awarii na starszych urządzeniach.
    Skalowanie: W tym miejscu możesz wybrać, czy rysowany obraz ma być skalowany z zachowaniem proporcji ekranu urządzenia - dodając "wypełnienie" wokół krawędzi, aby dopasować go do ekranu - czy też może być rozciągnięty, aby dopasować go do ekranu urządzenia.
  
  Istnieje również możliwość ustawienia rozmiaru strony tekstury. Domyślnym (i najbardziej kompatybilnym) rozmiarem jest 2048x2048, ale można wybrać dowolny rozmiar od 256x256 do 8192x8192. Znajduje się tu również przycisk Podgląd , który wygeneruje strony texture dla tej platformy, a następnie otworzy okno, w którym można zobaczyć, jak wyglądają. Może to być bardzo przydatne, jeśli chcesz zobaczyć, jaką strukturę mają strony texture i uniknąć sytuacji, w której strony texture będą większe (lub mniejsze) niż to konieczne. Więcej informacji na temat stron texture można znaleźć tutaj.
  UWAGA: Pamiętaj, że im większy rozmiar strony texture, tym mniejsza kompatybilność gry z różnymi przeglądarkami i urządzeniami.
   
  Ikony
  Ta sekcja umożliwia dodanie różnych obrazów ikon , które będą potrzebne w projekcie dla różnych stron sklepu i urządzeń. Wszystkie obrazy ikon powinny być utworzone jako pliki 24bit *.png o odpowiednich rozmiarach.
  Warto zauważyć, że GameMaker posiada narzędzie Project Image Generator, które może być używane do automatycznego tworzenia wszystkich obrazów wymaganych dla różnych platform docelowych, na które kompilowana jest gra. Jeśli korzystasz z tego narzędzia, powinieneś zweryfikować utworzone obrazy, aby upewnić się, że spełniają one Twoje wymagania. Narzędzie wygeneruje zarówno ikony, jak i obrazy (patrz sekcja poniżej).
   
  Zdjęcia
  W tym miejscu możesz ustawić kolor obramowania, który będzie używany jako tło dla ekranów powitalnych, które nie mają wypełniać całego ekranu. Możesz także dodać ekrany powitalne do ostatecznego pliku gry, zarówno dla trybu poziomego , jak i pionowego , które będą wyświetlane podczas ładowania gry na urządzeniu. Ekran ten powinien być plikiem *.png o rozdzielczości 24 bitów i powinien mieć taki sam rozmiar jak pierwsza strona room (lub widok) gry. Jeśli chcesz, aby splash screen był wyświetlany przez określony czas, możesz go tutaj ustawić w zakresie od 0 do 10 sekund (domyślny czas 0 oznacza, że splash screen będzie wyświetlany tylko przez czas ładowania asset ). Możesz także określić sposób wyświetlania ekranu powitalnego, korzystając z następujących opcji:
  
    Zachowaj proporcje: Ta opcja pozwoli zachować proporcje obrazu w stosunku do ekranu urządzenia, dodając "wyściełanie" wokół krawędzi tam, gdzie jest to wymagane.
    Kadruj, aby dopasować: Spowoduje to zachowanie obrazu w proporcji 1:1 z ekranem urządzenia i przycięcie (lub wyściełanie) krawędzi w razie potrzeby.
    Rozciągnij: Spowoduje to rozciągnięcie obrazu tak, aby wypełnił ekran urządzenia (może to spowodować zniekształcenie wyświetlanego obrazu).
  
  Na koniec można ustawić obraz bannera dla gry na urządzeniach telewizyjnych Android, który jest również 24-bitowy *.png.
   
  Opakowania
  
  Jedną z funkcji korzystania z Google Play dla gier Android jest możliwość licencjonowania gier. Oznacza to, że Google będzie kontrolował gry, dzięki czemu będą w nie mogły grać tylko osoby, które pobrały je za pośrednictwem jego sklepu, co pozwoli uniknąć rozpowszechniania nielegalnych kopii produktu.
  Aby aktywować tę funkcję w swojej grze, musisz skopiować swój klucz publiczny do pola oznaczonego jako Klucz publiczny licencji Google. Licencję tę można znaleźć na stronie deweloperów w Google Play, a następnie wybierając grę, którą chcesz edytować. Na stronie profilu gry przewiń w dół do sekcji zatytułowanej "Usługi i interfejsy API" i znajdź tam klucz publiczny, który jest potrzebny do włączenia tej funkcji.
  Po aktywacji gry, jeśli spróbuje w nią zagrać osoba nieuprawniona do jej posiadania, zostanie wyświetlone okno z komunikatem informującym, że w urządzeniu nie można znaleźć licencji, a następnie dającym możliwość ponownej próby i przetestowania gry lub opuszczenia jej.
  Kolejną cechą licencji jest możliwość korzystania z rozszerzeń APK. Jest to sposób na ominięcie maksymalnego rozmiaru aplikacji 50 MB narzuconego przez Google Play (i tylko Google Play). Twoja gra będzie składała się z dwóch części: małego pliku *.apk i większego *.zip, który będzie zawierał wszystkie Twoje gry assets, z których obie są przesyłane do sklepu. Gdy użytkownik po raz pierwszy uruchomi Twoją grę, plik zip zostanie pobrany i rozpakowany. Więcej szczegółów na temat tej opcji można znaleźć tutaj.
  Za pomocą usługi Google Dynamic Asset Delivery można także tworzyć pakiety aplikacji o rozmiarze nawet 1 GB, korzystając z opcji eksportu *.aab. W ten sposób wszystkie gry assets są pakowane jako pliki "instalacyjne" assets, które są instalowane razem z samą aplikacją. Więcej szczegółów na temat tej funkcji można znaleźć tutaj.
  Na koniec masz możliwość przygotowania ostatecznego pakietu aplikacji jako gry Android TV (powinieneś zaznaczyć tę opcję tylko wtedy, gdy Twoja gra jest zgodna z wytycznymi Android TV).
   
  Uprawnienia
  Na tej karcie możesz zmienić niektóre z uprawnień, których Twoja gra może wymagać w Manifeście Android. GameMaker automatycznie przydziela uprawnienia w zależności od funkcji używanych przez grę, jednak może się okazać, że w grze potrzebne są uprawnienia, które nie zostały prawidłowo przypisane (np. w przypadku korzystania z niestandardowych stron extensions).
  Na poniższej liście przedstawiono dostępne uprawnienia:
  
    WRITE_EXTERNAL_STORAGE: Umożliwia zapis gry na zewnętrznej pamięci masowej.
    READ_PHONE_STATE: Zezwolenie na dostęp do stanu telefonu tylko w trybie odczytu.
    ACCESS_NETWORK_STATE: Zezwolenie grze na dostęp do informacji o sieciach.
    INTERNET: Zezwalaj grze na otwieranie gniazd sieciowych.
    BLUETOOTH: Umożliwia podłączenie gry do sparowanych urządzeń Bluetooth.
    RECORD_AUDIO: Umożliwia grze nagrywanie dźwięku z mikrofonu.
  
  UWAGA: Jeśli nie jesteś pewien, czy potrzebujesz tych opcji, prawdopodobnie powinieneś pozostawić je domyślnie odznaczone i pozwolić programowi GameMaker zająć się uprawnieniami dla Twojej gry.
  Sekcja Uprawnienia na stronie Android zawiera również obszar, w którym można wstrzykiwać uprawnienia do znaczników aplikacji na Androida na stronie Androidmanifest.xml. Pełną listę dostępnych znaczników można znaleźć w dokumentacji Android tutaj:
  
    Programista Android: Znaczniki aplikacji
  
  Warto zauważyć, że w przypadku docelowego API 28 i nowszych nie będzie już można używać zewnętrznych wywołań internetowych z użyciem "http" - zamiast tego wymagane jest "https" - chyba że zostanie dodany następujący znacznik:
  android:usesCleartextTraffic="true"
   
  Społeczny
  Ta sekcja służy do włączania różnych funkcji społecznościowych w grze Android. Można wybrać następujące opcje:
  
    Google -  Włącz zapisywanie w chmurze: Zaznaczenie tej opcji spowoduje włączenie funkcji Zapisywanie w chmurze Google oraz wyświetli monit o pobranie i zainstalowanie odpowiedniej strony extension z Rynku. Więcej informacji na ten temat znajduje się w rozdziale Zapisywanie w chmurze na stronie Funkcje asynchroniczne.
    Google - Identyfikator usług Google: Umożliwia wprowadzenie identyfikatora usług Google dla Twojej aplikacji.
  
   
   
   
  
    
      
        Wstecz: Opcje gry
        Następny: iOS
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

