
  
  Obiekty i instancje
  Dzięki assets, które widziałeś do tej pory, możesz dodać kilka ładnych obrazów i dźwięków do przeglądarki gry asset, ale w samej grze nic one jeszcze nie robią! Do tego potrzebny jest najważniejszy assets w GameMakerze, zasób Object . Objects to specjalny adres asset, którego używamy do kontrolowania aspektów gry i wykonywania określonych czynności. W większości przypadków mają one przypisany adres sprite, dzięki czemu można je zobaczyć w grze rooms, ale czasami są używane jako obiekty kontrolne "za kulisami" do takich zadań, jak śledzenie statystyk, ustawianie czasu dla cut-scenek itp... Objects można przypisać zachowania i mogą one reagować na określone zdarzenia, a także na siebie nawzajem, a większość rzeczy, które można zobaczyć w grze, opiera się na objects i ich interakcji z użytkownikiem i między sobą.
  Nie możemy mówić o Objects, nie mówiąc o instancjach. W grze stworzonej w programie GameMaker postacie, potwory, kule, ściany itp., które widzisz w grze, są uważane za instancje. Instancja jest w istocie "kopią" obiektu object, który znajduje się w przeglądarce Asset, a następnie jest umieszczany w room ( objects to szablon dla instancji). Kiedy więc mówimy o tym, że coś wpływa na instancję lub ją zmienia, mamy na myśli to, że wpływa to na jedną konkretną kopię object w room, a na wszystkie pozostałe nie, ale kiedy mówimy o wpływaniu na object lub jej zmianie, mamy na myśli to, że wszystko, co w niej zrobimy, będzie miało odzwierciedlenie także we wszystkich instancjach tworzonych od tego momentu. Tak więc  object jest szablonem dla instancji, a instancja jest tym, co umieszczamy w room, aby stworzyć naszą grę.
  Aby utworzyć nową witrynę object asset, postępuje się tak samo jak w przypadku każdej innej witryny asset. Wystarczy kliknąć prawym przyciskiem myszy witrynę  w folderze Objects asset i wybrać opcję Utwórz (lub kliknąć prawym przyciskiem myszy w dowolnym miejscu Przeglądarki zasobów i wybrać opcję Utwórz obiekt).
  
  Jest to okno edytora obiektów, w którym są wyświetlane bieżące właściwości object. Pierwszą rzeczą, jaką należy zrobić, jest nadanie nazwy object, także z użyciem przedrostka takiego jak " obj_" lub innego identyfikatora. Ogólnie rzecz biorąc, aby object mógł cokolwiek rysować i rejestrować kolizje z instancjami innych objects, musi mieć przypisany adres sprite, który dodaje się za pomocą przycisku . Spowoduje to otwarcie Eksploratora zasobów, w którym można wybrać stronę sprite do użycia (można też przeciągnąć stronę sprites z przeglądarki Asset i upuścić ją w Edytorze Object, aby ją przypisać):
  
  Jeśli nie masz jeszcze odpowiedniego adresu sprite, możesz kliknąć  na przycisku New Sprite , aby utworzyć nowy adres sprite asset i edytować go według własnego uznania, podobnie jak w przypadku utworzenia adresu asset za pomocą standardowych opcji tworzenia sprite, tyle że teraz zostanie on automatycznie przypisany do adresu object, który był otwarty w momencie jego tworzenia.  Po wybraniu strony sprite możesz także kliknąć przycisk Edytuj sprajt  lub Edytuj obraz , aby edytować obrazy samej strony sprite lub strony sprite asset. Może to być szybsze niż najpierw znalezienie strony sprite w przeglądarce Asset, a następnie wskazanie, że chcesz ją edytować.
  Po dodaniu lub utworzeniu strony sprite można zmienić kilka innych właściwości strony object, na przykład to, czy ma być widoczna , czy nie, lub jaką ma mieć maskę kolizji. W przypadku prostych gier prawdopodobnie nie trzeba nic zmieniać w tym miejscu i można teraz przejść do dodawania zdarzeń do strony object.
  Zdarzenia to dyskretne momenty w grze loop, w których rzeczy dzieją się na podstawie tego, co dla nich zaprogramowałeś. GameMaker pracuje z cyklami takich zdarzeń - od momentu uruchomienia strony room do momentu jej zakończenia toczy się gra loop, w której co krok uruchamiana jest seria zdarzeń, a Ty możesz umieścić w swoich instancjach kod GML lub akcje wizualne GML, które reagują na te zdarzenia ( krok to moment w czasie gry, regulowany przez ustawienia szybkości gry - zwany też "klatką").
  Aby dodać wydarzenie, należy kliknąć przycisk Dodaj wydarzenie na stronie :
  
  Powyżej znajdują się różne kategorie wydarzeń, a niektóre z nich zawierają inne podkategorie. Nie będziemy tutaj omawiać wszystkich wydarzeń, ale pokrótce omówimy pięć najważniejszych:
  
    
      
        
        Utwórz wydarzenie
        To zdarzenie ma miejsce, gdy po raz pierwszy tworzona jest instancja object, i jest pierwszą rzeczą, która dzieje się w instancji umieszczonej w room za pomocą edytora room, gdy wprowadzona zostanie instancja room. Oznacza to, że zdarzenie to jest idealnym miejscem do inicjalizacji zmiennych, uruchamiania Timelines, ustawiania paths itd... i wykonywania wszelkich innych czynności, które zazwyczaj muszą być wykonane tylko raz lub tylko wtedy, gdy instancja po raz pierwszy pojawia się w room.
      
      
        
        Krok Impreza
        GameMaker dzieli czas gry na kroki, a prędkość gry określa, ile tych kroków powinno być na sekundę. Krok to w zasadzie strona loop, która działa bez przerwy, a wszystkie zdarzenia są sprawdzane i wywoływane w razie potrzeby, gdy gra działa, więc jak możesz sobie wyobrazić, Step Event jest zdarzeniem, które jest sprawdzane w każdym kroku gry, gdy instancja istnieje. Zauważ, że kategoria Step Event ma trzy podkategorie do "dostrajania" timingu w instancji, ale generalnie najczęściej będziesz używał głównego Step Event.
      
      
        
        Zdarzenie kolizyjne
        Oczywiście podczas tworzenia gry bardzo ważne jest, aby wiedzieć, kiedy dwie (lub więcej) instancje object zderzą się ze sobą, a do tego celu służy zdarzenie kolizji. Jest to zdarzenie, które umieszcza się w witrynie object, a następnie określa, względem której innej witryny object ma być sprawdzane pod kątem kolizji. Po dodaniu zdarzenia i wybraniu strony object, która ma być sprawdzana, można dodać kod GML lub GML Visual, aby rozwiązać problem kolizji.
      
      
        
        Rysunek Impreza
        W kategorii zdarzeń losowania znajduje się wiele różnych zdarzeń losowania, ale najczęściej używanym jest to, które znajduje się na samej górze i nazywa się po prostu "Rysuj". To ogólne zdarzenie losowania będzie wywoływane, podobnie jak zdarzenie kroku, w każdej ramce gry, ale działa na dwa różne sposoby. Pierwszy z nich to ten, gdy nie dodasz tego zdarzenia do strony object... Gdy nie ma określonego zdarzenia Draw Event, GameMaker domyślnie narysuje sprite przypisany do object, używając wszelkich transformacji, które zostały zastosowane w innym miejscu object (jak zmiana rozmiaru lub mieszanie alfa), więc nawet gdy żadne Draw Event nie jest wymienione na liście zdarzeń, jest ono nadal uruchamiane i nadal będzie rysować na ekranie, gdy instancja zostanie umieszczona w room. Drugi sposób działa, gdy dodasz samo zdarzenie i umieścisz w nim dowolny obiekt GML lub GML Visual. Dodanie czegoś do zdarzenia mówi GameMakerowi " Chcę kontrolować, co rysujesz dla instancji tego obiektu" i całkowicie zastępuje domyślne rysowanie. Oznacza to, że możesz mieć object z przypisanym sprite, następnie ustawić zdarzenie draw na draw text, a sprite nie zostanie narysowany, ponieważ nie kazałeś GameMakerowi go narysować, choć tekst zostanie narysowany.
      
      
        
        Zniszcz zdarzenie
        To zdarzenie jest ostatnim zdarzeniem, które zostanie wykonane po zniszczeniu instancji. Często jest ono pomijane podczas dodawania zachowań do objects, ale może być bardzo przydatne - na przykład do tworzenia efektów eksplozji lub cząsteczek po zabiciu wroga lub do ponownego zrodzenia nowej instancji object w innej części room, a nawet do dodawania punktów do wyniku.
      
    
  
  
    
  
  Więcej informacji o wszystkich imprezach można znaleźć tutaj.
  Następnie można kliknąć zdarzenie na liście, aby dodać je do strony object.
   
  Dodanie zdarzenia spowoduje otwarcie edytora GML Code lub GML Visual, w zależności od rodzaju tworzonego zdarzenia. W tym oknie możesz teraz dodać kod lub akcje, które mają być wykonywane za każdym razem, gdy zdarzenie zostanie wywołane w grze loop.
  
  Więcej informacji na temat używania strony GML w wydarzeniach object można znaleźć na dwóch stronach podanych poniżej:
  
    GML Visual
    Kod GML
  
  Pełne wyjaśnienie poszczególnych części Edytora Object można znaleźć tutaj:
  
    Redakcja: The Object Editor
  
  W następnej części tego podręcznika zostanie omówiony jeszcze jeden typ zasobów - sekwencje...
   
   
  
    
      
        Powrót: Indeks
        Następny: Sekwencje
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

