
  
  powtórz
  W witrynie GameMaker Language można wykonywać pętle, czyli polecenia lub polecenia iterujące nad sobą określoną liczbę razy. Najprostszym z nich jest instrukcja repeat, która ma postać:
  repeat (<expression>)
    {
        <statement>;
        <statement>;
        ...
    }
  W przypadku repeat podane wyrażenie jest powtarzane tyle razy, ile wskazuje zaokrąglona wartość wyrażenia. Na przykład poniżej utworzono pięć piłek w losowych miejscach:
  repeat (5)
    {
        instance_create_layer(random(400), random(400), "Instances", obj_ball);
    }
  Może to być bardzo przydatne, aby uniknąć wielokrotnego wpisywania tego samego kodu, lub do używania tablic, lub do liczenia operacji itd. Nie jesteś też ograniczony do używania pojedynczej instrukcji - możesz powtarzać wiele instrukcji, umieszczając je w nawiasach klamrowych {}. Na przykład:
  var _x = 32;
    repeat (global.p_lives)
    {
        draw_sprite(spr_heart, 0, _x, 32);
        _x += sprite_get_width(spr_heart);
    }
  Powyższy przykład powtarza polecenia w nawiasach klamrowych przez dowolną liczbę iteracjizmiennej globalnej "lives", a w każdej iteracji rysuje serce sprite na pozycji _x, a następnie przesuwa tę pozycję o bit w zależności od szerokości serca sprite.
  Kiedy należy używać repeat loop? Zawsze wtedy, gdy chcemy powtórzyć jedno lub więcej poleceń ustaloną liczbę razy bez konieczności zliczania iteracji.
  Warto zauważyć, że w ramach pętli można używać specjalnych instrukcji break i continue. repeat również wewnątrz pętli. Użycie break spowoduje natychmiastowe wyjście z pętli loop i przejście do dowolnego kodu znajdującego się w zdarzeniu lub funkcji po zakończeniu loop, np:
  var i = 0;
    var temp = 0;
    repeat (10)
    {
        temp += array[i];
        if (temp > max_total)
        {
            break;
        }
        else
        {
            i += 1;
        }
    }
  Powyższy kod loops przez 10 wartości tablicy i dodaje je do zmiennej lokalnej. Jeśli suma zmiennej lokalnej jest większa niż wartość podana dla max_total, to loop jest kończony za pomocą break, w przeciwnym razie loop będzie kontynuowany. 
  Przykładem użycia continue w repeat loop może być:
  repeat(10)
    {   
        var _x = random(room_width);
        var _y = random(room_height);
        if (instance_position(_x, y, obj_Enemy)
        {
            continue;
        }
        instance_create_layer(_x, _y, "Instances", obj_Enemy);
    }
  Ten kod powtórzy się 10 razy, generując losową pozycję room, a następnie sprawdzając, czy na tej pozycji istnieje instancja object obj_Enemy. Jeśli tak, to bieżąca iteracja loop zostanie zakończona przy użyciu continue i rozpocznie się nowa iteracja, a jeśli nie, to na losowej pozycji zostanie utworzona instancja object obj_Enemy.
  Więcej przykładów funkcji loop można znaleźć w rozdziałach while, do... until, oraz for.
   
   
   
  
    
      
        Powrót: Cechy językowe
        Następny: while
      
    
    © Copyright YoYo Games Ltd. 2021 Wszystkie prawa zastrzeżone.
  
  
  

