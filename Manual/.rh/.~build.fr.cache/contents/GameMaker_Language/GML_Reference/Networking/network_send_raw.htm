
  
  network_send_raw
  Za pomocą tej funkcji można wysłać "surowy" pakiet danych przez sieć. Funkcja pobiera identyfikator gniazda, przez które ma się połączyć, następnie musisz podać identyfikator bufora, który zawiera dane do wysłania (więcej informacji na temat buffers znajdziesz w rozdziale Reference - Buffers) i wreszcie rozmiar (w bajtach) pakietu danych. Wysyłane dane nie są w żaden sposób formatowane przez GameMakera, a urządzenia odbierające otrzymają je w postaci strumienia, co oznacza, że będziesz musiał sobie z nimi poradzić. Funkcja zwraca liczbę bajtów wysłanych danych lub liczbę mniejszą od 0, jeśli wysyłanie nie powiodło się.
  Argument opcji
  Ostatni argument jest opcjonalny i jest używany tylko w WebSockets. Umożliwia on wybór między wysyłaniem danych binarnych lub tekstowych. W tym argumencie można podać każdą z tych stałych:
  
    
      
      
    
    
      
        Typ wysyłania sieci Stała
      
      
        Stała
        Opis
      
      
        network_send_binary
        Wysyłanie komunikatu binarnego
      
      
        network_send_text
        Wyślij wiadomość tekstową
      
    
  
  Interfejsy API niektórych platform akceptują tylko wiadomości tekstowe podczas korzystania z WebSockets (np. Twitch), więc w takich przypadkach można użyć stałej network_send_text. Jeśli ten argument nie zostanie podany, domyślnie wysyłane są dane binarne.
   
  Składnia:
  network_send_raw(socket, bufferid, size, [options]);
  
    
      
        Argument
        Typ
        Opis
      
      
        socket
        Identyfikator gniazda sieciowego
        The id of the socket to use.
      
      
        bufferid
        Identyfikator bufora
        The id of the buffer to get the data from.
      
      
        size
        Real
        The size (in bytes) of the data.
      
      
        options
        Typ wysyłania sieci Stała
        OPTIONAL Służy do wybierania przez WebSockets między danymi tekstowymi i binarnymi; jeśli nie zostanie określone, wysyłane są dane binarne.
      
    
  
   
  Zwroty:
  Real
   
  Przykład:
  buff = buffer_load("player_save.dat");
    network_send_raw(sock, buff, buffer_get_size(buff));
  Powyższe informacje ładują do pamięci zapisane wcześniej dane buffer i zwracają identyfikator buffer, który należy zapisać w zmiennej "buff". Ten kompletny plik buffer jest następnie wysyłany jako pakiet surowych danych przez sieć za pomocą gniazda identyfikowanego zmienną "sock".
   
   
   
  
    
      
        Powrót: Tworzenie sieci
        Następny: network_send_udp
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

