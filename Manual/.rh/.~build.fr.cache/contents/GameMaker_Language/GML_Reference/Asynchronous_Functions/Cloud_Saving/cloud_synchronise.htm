
  
  chmura_synchronizuj
  Ta funkcja jest zwykle wywoływana na początku nowej gry i służy do pobierania bieżącego stanu usługi chmury podczas uruchamiania gry. Funkcja zwraca unikatową wartość id, która następnie zostanie użyta w zdarzeniu asynchronicznym chmury w celu pobrania odpowiednich informacji z tworzonej mapy DS.
  Ta funkcja wyśle do chmury dane, które następnie wywoła odpowiednie zdarzenie asynchroniczne. W tym zdarzeniu można sprawdzić zwróconą async_load mapę DS pod kątem następujących wartości:
  
    "status": Tu znajduje się kod statusu, gdzie wartość ujemna oznacza błąd, którego opis będzie zawarty w "errorString". Wartość 0 (lub wartość dodatnia) oznacza sukces (dokładne wartości znajdują się poniżej), a "resultString" będzie zawierał zwrócone dane lub komunikat o sukcesie.
    "id": Identyfikator, który został zwrócony przez wywołaną funkcję. Jeśli wystrzelisz serię żądań cloud_, musisz wiedzieć, na które z nich otrzymasz odpowiedź, dlatego użyjesz tej wartości do porównania z wartością zapisaną podczas wysyłania żądania, aby znaleźć właściwe żądanie.
    "description": Opis ostatnio przesłanego pliku.
    "resultString": W tym miejscu znajduje się string, który jest zbiorem danych zwróconych z chmury.
    "errorString": zwraca Error String dla dowolnego błędu.
  
  Dokładne znaczenie zwracanego wpisu w mapie "status" wyjaśniono w poniższej tabeli:
  
    
      
        Status Wartość
        errorString / resultString
        Opis
      
      
        -1
        errorString = "Nie zalogowano się do <SERVICE>".
        You have not successfully logged in to the given Cloud Service
      
      
        0
        resultString = odzyskane dane
        New game data downloaded from the cloud (following a cloud_synchronise call)
      
      
        1
        resultString = "Już zsynchronizowane"
        No new data since you last called cloud_synchronise
      
      
        2
        resultString = "ConflictDeferral"
        A conflict was encountered, but the gamer chose to ignore it
      
      
        3
        resultString = "GameUploadSuccess"
        data from cloud_string_save() lub cloud_file_save() został pomyślnie przesłany do chmury
      
      
        -n
        errorString = Opis błędu
        Any other negative number means a synchronisation failure
      
    
  
   
  Składnia:
  cloud_synchronise();
   
  Zwroty:
  Async Request ID
   
  Przykład rozszerzony:
  Funkcja ta byłaby wywoływana w zdarzeniu, takim jak zdarzenie rozpoczęcia gry, lub w witrynie object umieszczonej w pierwszej części gry room. Chodzi o to, że użytkownik sprawdza, czy aktualny plik danych z chmury server jest aktualny.
  cloud_check = cloud_synchronise();
  Następnie należy sprawdzić zwrócony adres DS Map w asynchronicznym zdarzeniu w chmurze, aby uzyskać status i zwrócony adres string, jeśli taki istnieje, za pomocą czegoś w rodzaju następującego kodu:
  if ds_map_find_value(async_load, "id") == cloud_check
    {
        if ds_map_find_value(async_load, "status") < 0
        {
            show_message_async("Cloud Services not available. Please check connectivity.");
        }
        else
        {
            if ds_map_find_value(async_load, "status") == 0
            {
                var file = file_text_open_write("Save.txt");
                file_text_write_string(file, ds_map_find_value(async_load, "resultString"));
                file_text_close(file);
            }
        }
    }
  Jeśli stan jest liczbą ujemną, coś poszło nie tak i użytkownik jest o tym informowany, w przeciwnym razie kod kontynuuje pobieranie zsynchronizowanych danych i zapisuje je w pliku tekstowym do późniejszego wykorzystania.
   
   
   
  
    
      
        Powrót: Zapisywanie w chmurze
        Następny: cloud_string_save
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

