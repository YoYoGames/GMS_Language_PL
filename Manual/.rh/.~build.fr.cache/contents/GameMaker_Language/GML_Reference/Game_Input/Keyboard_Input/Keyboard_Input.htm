
  
  Wprowadzanie danych z klawiatury
  Podczas pracy z klawiaturą w GameMakerze masz do dyspozycji wiele funkcji, które mogą być używane do rozpoznawania różnych stanów klawiatury, takich jak wciśnięty lub zwolniony. Są też takie, które zapisują wszystkie naciśnięcia klawiszy jako string lub informują, jaki był ostatnio naciśnięty klawisz, a także takie, które pozwalają całkowicie wyczyścić stan klawiatury.
  UWAGA Te funkcje są przeznaczone wyłącznie dla platform Windows/Mac/Ubuntu. Może się okazać, że niektóre wbudowane zmienne i stałe nie są ważne na innych platformach, a wiele funkcji nie będzie działać na telefonach komórkowych.
  Każdy znak wejściowy z klucza (lub wielu kluczy) jest określany przez jego kod UTF8, który jest wartością liczbową. Wartość tę można uzyskać dla dowolnego znaku za pomocą funkcji ord() ale GameMaker posiada także serię stron constants dla najczęściej używanych klawiszy specjalnych klawiatury oraz funkcji specjalnych. Zazwyczaj używa się kombinacji ord() z funkcjami keyboard_check*(), czyli coś takiego:
  if keyboard_check(ord("A"))
    {
        hspeed = -5;
    }
  Tak więc powyższa funkcja sprawdzi, czy jest naciśnięty klawisz "A", i jeśli tak, ustawi prędkość poziomą strony object na -5. Zauważ, że użycie ord() w ten sposób będzie działać poprawnie tylko wtedy, gdy dane wejściowe string będą miały długość jednego znaku i będą liczbami od 0 do 9 lub wielkimi literami od A do Z. Funkcja ord() zwróci pełną wartość UTF8, ale funkcje keyboard_check*() wykryją tylko A - Z i 0 - 9. Ale co zrobić, jeśli chcesz użyć klawiszy strzałek? Albo jeśli chcesz zmodyfikować działanie za pomocą klawisza "shift"? Cóż, w tym celu GameMaker posiada serię stałych vk_ (vk_ oznacza wirtualny klawisz), których można użyć zamiast ord():
  
    
      
      
    
    
      
        Stała klucza wirtualnego (vk_*)
      
      
        Stała
        Opis
      
      
        vk_nokey
        kod klucza oznaczający, że nie został naciśnięty żaden klawisz
      
      
        vk_anykey
        kod klucza oznaczający, że został naciśnięty dowolny klawisz
      
      
        vk_left
        kod klawisza dla klawisza strzałki w lewo
      
      
        vk_right
        kod klucza dla klawisza strzałki w prawo
      
      
        vk_up
        kod klucza dla klawisza strzałki w górę
      
      
        vk_down
        kod klucza dla klawisza strzałki w dół
      
      
        vk_enter
        klawisz Enter
      
      
        vk_escape
        klawisz escape
      
      
        vk_space
        klawisz spacji
      
      
        vk_shift
        którykolwiek z klawiszy Shift
      
      
        vk_control
        którykolwiek z klawiszy sterujących
      
      
        vk_alt
        klawisz alt
      
      
        vk_backspace
        klawisz backspace
      
      
        vk_tab
        klawisz tabulacji
      
      
        vk_home
        przycisk domowy
      
      
        vk_end
        koniec klucza
      
      
        vk_delete
        klawisz usuwania
      
      
        vk_insert
        włóż klucz
      
      
        vk_pageup
        klawisz pageup
      
      
        vk_pagedown
        przycisk przewijania w dół
      
      
        vk_pause
        przycisk pauzy/przerwania
      
      
        vk_printscreen
        klawisz printscreen/sysrq
      
      
        vk_f1 ... vk_f12
        kod klucza dla przycisków funkcyjnych F1 do F12
      
      
        vk_numpad0 ... vk_numpad9
        klawisze numeryczne na klawiaturze numerycznej
      
      
        vk_multiply
        klawisz mnożenia na klawiaturze numerycznej
      
      
        vk_divide
        klawisz dzielenia na klawiaturze numerycznej
      
      
        vk_add
        klawisz dodawania na klawiaturze numerycznej
      
      
        vk_subtract
        klawisz odejmowania na klawiaturze numerycznej
      
      
        vk_decimal
        klawisze kropki dziesiętnej na klawiaturze numerycznej
      
    
  
   
  Następujące stałe mogą być używane tylko z adresem keyboard_check_direct():
  
    
      
      
    
    
      
        Stała klucza wirtualnego (vk_*)
      
      
        Stała
        Opis
      
      
        vk_lshift
        lewy klawisz Shift
      
      
        vk_lcontrol
        lewy przycisk sterujący
      
      
        vk_lalt
        lewy klawisz alt
      
      
        vk_rshift
        prawy klawisz Shift
      
      
        vk_rcontrol
        prawy przycisk sterujący
      
      
        vk_ralt
        prawy klawisz alt
      
    
  
  Poniżej znajduje się mały przykład użycia vk_ stałych:
  if keyboard_check_pressed(vk_tab)
    {
        instance_create_layer(x, y, "Controllers", obj_Menu);
    }
  Powyższy kod wykryje, czy klawisz "Tab" jest naciśnięty i utworzy instancję object "obj_Menu", jeśli tak.
  Jeśli trzeba sprawdzić, czy kluczem jest znak, który nie jest 0-9, A-Z lub jedną ze stałych VK, należy sprawdzić jedną ze zmiennych keyboard_*, na przykład keyboard_lastchar:
  var _key = keyboard_lastchar;
    if ord(_key) == ord("ç")
    {
        show_debug_message("ç key pressed");
    }
  Podczas pracy z klawiaturą dostępne są następujące funkcje:
  UWAGA: Te funkcje nie będą działać podczas korzystania z ekranowej klawiatury wirtualnej.
  
    io_clear
    keyboard_check
    keyboard_check_pressed
    keyboard_check_released
    keyboard_check_direct
    keyboard_clear
    keyboard_set_map
    keyboard_get_map
    keyboard_unset_map
    keyboard_set_numlock
    keyboard_get_numlock
  
   
  Istnieją również funkcje, które można wykorzystać do symulowania naciśnięć klawiszy:
  
    keyboard_key_press
    keyboard_key_release
  
   
  Poniższe zmienne są wbudowane w GameMakera i można się do nich odwoływać, aby uzyskać informacje o stanie klawiatury i wprowadzanych danych:
  UWAGA: W przypadku korzystania z klawiatury wirtualnej tylko zmienna keyboard_string zostanie zaktualizowana o dane wprowadzone z klawiatury.
  
    keyboard_key
    keyboard_lastkey
    keyboard_lastchar
    keyboard_string
  
   
   
   
  
    
      
        Powrót: Wejście do gry
        Następny: Wprowadzanie danych za pomocą myszy
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

