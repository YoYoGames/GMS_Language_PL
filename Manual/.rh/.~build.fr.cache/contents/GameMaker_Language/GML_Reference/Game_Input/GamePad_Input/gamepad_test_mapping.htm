
  
  gamepad_test_mapping
  Za pomocą tej funkcji można ustawić mapowanie gamepada na tych celach, które na to pozwalają. Podajesz indeks "slot" gamepada, który chcesz ustawić, a następnie mapę string, która powinna być utworzona w formacie SDL z następującymi polami:
  <guid>,<description>,platform:<platform-name>,<bindings>
  W każdym z tych pól powinny znaleźć się następujące informacje:
  
    guid - string składający się z cyfr i liter, który jednoznacznie identyfikuje typ urządzenia (można go uzyskać za pomocą gamepad_get_guid() funkcji)
    description - opis urządzenia w formacie Ascii (można go uzyskać za pomocą gamepad_get_description() funkcja)
    platform-name - będzie to albo "platforma:android", "platforma:windows", "linux", lub "mac" (zauważ, że zostanie to automatycznie dołączone do string po wywołaniu tej funkcji, więc nie musisz tego podawać przy konstruowaniu własnego mapowania strings)
    bindings - zestaw wpisów oddzielonych znakiem "," w celu powiązania rzeczywistych danych wejściowych z określonymi stałymi GML 
  
  Lista wpisów oddzielona przecinkami ma określony format:
  <abstract-gp-name>:<value-binding>
  Tutaj <value-binding> (tzn. bezpośrednie wejście gamepada) może być dowolne z poniższych:
  
    a<N> - Przedstawia oś gamepada, gdzie <N> jest jedną z osi od 0 do gamepad_axis_count() -1
    b<N> - Reprezentuje przycisk gamepada, gdzie <N> jest jednym z przycisków od 0 do gamepad_button_count() -1
    h<N>.<mask> - Reprezentuje to kapelusz gamepada, gdzie <N> reprezentuje kapelusz od 0 do gamepad_hat_count() -1, a na stronie <mask> będzie to 1, 2, 4 lub 8.
  
  Każda wartość wejściowa powinna być związana z nazwą SDL, która jest wyrażona jako <>abstract-gp-name>, która z kolei jest związana ze stałą GML. W poniższej tabeli przedstawiono równoważność między nazwą SDL a stałą GameMaker Studio 2:
  
    
      
        Nazwa SDL
        Nazwa GML
      
      
        a
        gp_face1
      
      
        b
        gp_face2
      
      
        x
        gp_face3
      
      
        y
        gp_face4
      
      
        leftshoulder
        gp_shoulderl
      
      
        lefttrigger
        gp_shoulderlb
      
      
        rightshoulder
        gp_shoulderr
      
      
        righttrigger
        gp_shoulderrb
      
      
        guide
        gp_select
      
      
        start
        gp_start
      
      
        leftstick
        gp_stickl
      
      
        rightstick
        gp_stickr
      
      
        dpup
        gp_padu
      
      
        dpdown
        gp_padl
      
      
        dpleft
        gp_padr
      
      
        dpright
        gp_padd
      
      
        leftx
        gp_axislh
      
      
        lefty
        gp_axislv
      
      
        rightx
        gp_axisrh
      
      
        righty
        gp_axisrv
      
    
  
  
    Po skonstruowaniu mapowania string powinno ono wyglądać mniej więcej tak:
  "050000005e040000fd020000ffff3f00,Xbox Wireless Controller,a:b0,b:b1,start:b4,dpdown:h0.4,dpleft:h0.8,dpright:h0.2,dpup:h0.1,guide:b6,leftshoulder:b9,leftstick:b7,lefttrigger:a4,leftx:a0,lefty:a1,rightshoulder:b10,rightstick:b8,righttrigger:a5,rightx:a2,righty:a3,x:b2,y:b3,platform:android"
   
  Składnia:
  gamepad_test_mapping(index, mapping_string);
  
    
      
        Argument
        Typ
        Opis
      
      
        index
        Real
        Which gamepad index "slot" to set.
      
      
        mapping_string
        String
        The map string to use (see the description for more information).
      
    
  
   
  Zwroty:
  N/A
   
  Przykład:
  var mapping = gamepad_get_guid(global.padIndex) + "," + gamepad_get_description(global.padIndex);
    var len = array_length(global.PadInstances);
    for (i = 0; i < len; i += 2)
    {
        var left = global.PadInstances[i];
        var right = global.PadInstances[i+1];
        mapping += "," + left.sdlLabel + ":" + right.binding;
    }
    gamepad_test_mapping(global.padIndex, mapping);
  Powyższy kod loop przegląda pewną liczbę instancji i wykorzystuje wartości różnych zmiennych, które zawierają, do utworzenia mapowania string, które jest następnie ustawiane do użycia na gamepadzie w podanym indeksie slotu.
   
   
   
  
    
      
        Powrót: Wejście gamepada
        Następny: gamepad_remove_mapping
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

