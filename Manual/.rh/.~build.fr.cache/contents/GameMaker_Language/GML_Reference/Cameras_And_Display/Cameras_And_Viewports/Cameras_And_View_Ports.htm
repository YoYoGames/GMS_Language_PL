
  
  Kamery i wizjery
  Podczas tworzenia strony rooms w programie GameMaker należy skonfigurować różne porty widoku i/lub kamery, aby kontrolować, co jest wyświetlane graczowi. Porty widoku to w zasadzie małe okna do świata gry, które umożliwiają pokazanie graczowi części strony room w skali 1:1. Są one niezbędne, gdy rozmiar strony room jest większy niż rozmiar ekranu. Kamery określają, co dokładnie będzie wyświetlane w każdym z portów widoku.
  GameMaker pozwala na korzystanie z 8 niezależnych portów widoku (o numerach od 0 do 7) i nieograniczonej liczby kamer, z których tylko 8 może być aktywnych w danym momencie - po jednej przypisanej do każdego z dostępnych portów - choć zwykle wystarczy jeden lub dwa porty widoku. Kamery mogą pokazywać różne części tej samej strony room i mogą być aktywowane i dezaktywowane, a także przypisywane do portów widoku w dowolnym momencie, co oznacza, że możesz używać kamer do rysowania elementów HUD, tworzenia efektów podziału ekranu lub na przykład tworzenia cut-scenek. Zasadniczo umieszczasz kamerę w witrynie room i określasz "widok" (obszar) witryny room, który będzie dla niej widoczny, a następnie widok ten jest rysowany w porcie widoku - należy pamiętać, że port widoku może mieć inny rozmiar niż widok z kamery, a zatem można zniekształcać i skalować widok z kamery, jeśli ma on rozmiar inny niż 1:1 z portem widoku.
  WAŻNE! Mówiąc o kamerach, widokach i portach widokowych, łatwo się pomylić, więc dla wyjaśnienia:
  
    Kamera: Punkt w witrynie room, który będzie używany do określania sposobu wyświetlania strony room - zwykle z uwzględnieniem pozycji, orientacji, pola widzenia i proporcji.
    Widok: To, co widzi kamera, w oparciu o jej położenie, rzut i obrót
    Port podglądu: obszar ekranu, na którym będzie wyświetlany obraz z kamery
  
  Jeśli dodajesz kamery za pomocą edytora sali, możesz pobrać ich identyfikator za pomocą zmiennej view_camera. Następnie można manipulować widokiem za pomocą poniższych funkcji, a w razie potrzeby można nawet zniszczyć domyślne kamery, choć konieczne będzie przypisanie nowej kamery do widoku, w przeciwnym razie wystąpi bardzo nieprzewidywalne zachowanie. Kamery dodane do portu widoku w edytorze Room mają zasięg globalny, co oznacza, że są tworzone raz, gdy rozpoczynasz grę, a następnie, gdy wchodzisz na każdą stronę room, są ustawiane na wartości ustawione w edytorze room, więc jeśli zniszczysz domyślną kamerę na dowolnej stronie room, przestanie ona istnieć we wszystkich pomieszczeniach.
  W przypadku kamer i portów widokowych należy pamiętać, że całkowity obszar ograniczonego pola dla wszystkich aktywnych portów widokowych w pierwszej części gry room  określa rozmiar płótna tła (lub rozmiar okna dla macOS, Ubuntu (Linux) i Windows), a wszystkie obszary nieobjęte portem widokowym będą domyślnie rysowane w kolorze okna, jak pokazano na poniższym obrazku:
  
  UWAGA: Domyślnie, aby kolor został wyświetlony, należy wybrać opcję "Wyczyść bufor wyświetlania" w edytorze room, a kolor można ustawić tylko za pomocą funkcji window_set_colour(). Jeśli nie użyjesz tej funkcji, domyślnie będzie wyświetlany kolor czarny.
  Należy zachować ostrożność przy korzystaniu z wielu kamer, ponieważ zdarzenie draw dla wszystkich instancji jest wywoływane raz dla każdego widocznego widoku, więc jeśli w jednej witrynie room aktywne są trzy widoki kamer, zdarzenie draw będzie uruchamiane trzy razy na każdym kroku (w zasadzie wykonuje trzy razy więcej pracy), co może być przyczyną spowolnienia gry, jeśli jest ona duża lub złożona. Zmienna view_current może być użyta do ograniczenia wywołań losowania poprzez sprawdzenie, który widok jest rysowany i rysowanie tylko tych elementów, które są specyficzne dla danego portu widoku. Należy również uważać przy tworzeniu własnych kamer, ponieważ jeśli utworzysz jedną w witrynie room i nie usuniesz jej za pomocą zmiennej camera_destroy() może dojść do wycieku pamięci.
  Przegląd wszystkich dostępnych funkcji można znaleźć w różnych sekcjach poniżej, ale warto zauważyć, że niektóre z tych funkcji wymagają ustawienia i użycia różnych macierzy, więc warto zajrzeć do sekcji instrukcji poświęconej funkcjom macierzowym. Należy także pamiętać, że istnieje kilka funkcji room, których można używać do uzyskiwania i ustawiania wartości kamer i portów podglądu w witrynie rooms innej niż bieżąca (patrz rozdział Pokoje).
  
  Do tworzenia i niszczenia kamer można używać następujących funkcji:
  
    camera_create
    camera_create_view
    camera_destroy
    camera_apply
  
   
  Dostępnych jest także wiele funkcji służących do ustawiania i uzyskiwania informacji o aparacie:
  
    camera_set_view_mat
    camera_set_proj_mat
    camera_set_update_script
    camera_set_begin_script
    camera_set_end_script
    camera_set_view_pos
    camera_set_view_size
    camera_set_view_speed
    camera_set_view_border
    camera_set_view_angle
    camera_set_view_target
    camera_set_default
    camera_get_view_mat
    camera_get_proj_mat
    camera_get_update_script
    camera_get_begin_script
    camera_get_end_script
    camera_get_view_x
    camera_get_view_y
    camera_get_view_width
    camera_get_view_height
    camera_get_view_speed_x
    camera_get_view_speed_y
    camera_get_view_border_x
    camera_get_view_border_y
    camera_get_view_angle
    camera_get_view_target
    camera_get_default
    camera_get_active
  
   
  Podczas pracy z kamerami trzeba je przypisać do portu widoku, aby były "aktywne" i mogły cokolwiek wyświetlać. Porty widoku są ponumerowane od 0 do 7 i można je zmieniać oraz ustawiać za pomocą różnych tablic zmiennych i funkcji, a także sprawdzać, który z nich jest aktualnie rysowany lub która kamera jest do niego aktualnie podłączona.
  Dostępne są następujące zmienne wbudowane o zasięgu globalnym:
  
    view_camera
    view_current
    view_enabled
    view_visible
    view_xport
    view_yport
    view_wport
    view_hport
    view_surface_id
  
   
  Dostępne są także następujące funkcje do obsługi portów podglądu:
  
    view_get_camera
    view_get_visible
    view_get_xport
    view_get_yport
    view_get_wport
    view_get_hport
    view_get_surface_id
    view_set_camera
    view_set_visible
    view_set_xport
    view_set_yport
    view_set_wport
    view_set_hport
    view_set_surface_id
  
   
   
   
  
    
      
        Powrót: Aparaty i wyświetlacz
        Następny: Okno gry
      
    
    © Copyright YoYo Games Ltd. 2021 Wszystkie prawa zastrzeżone.
  
  
  

