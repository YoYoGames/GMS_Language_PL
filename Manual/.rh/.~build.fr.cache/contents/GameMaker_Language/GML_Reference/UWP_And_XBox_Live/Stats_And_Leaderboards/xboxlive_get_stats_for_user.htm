
  
  xboxlive_get_stats_for_user
  Ta funkcja służy do pobierania danych o określonych statystykach z witryny Xbox Live servers. Użytkownik podaje identyfikator użytkownika zwrócony przez funkcję xboxlive_get_user(), następnie identyfikator konfiguracji usługi gry (widoczny na konsoli XDP), a na końcu wymagane statystyki. Użytkownik może zażądać maksymalnie 14 statystyk, ale nie gwarantuje to otrzymania wyników 14 statystyk, ponieważ istnieje ograniczenie długości żądania, a zatem maksymalna liczba statystyk zależy od długości nazw samych statystyk.
  Funkcja zwróci 0, jeśli żądanie statystyki zostało wysłane, lub -1, jeśli wystąpił błąd, a wywołanie zwrotne spowoduje wywołanie systemowego zdarzenia asynchronicznego. Zdarzenie to będzie miało specjalną mapę DS async_load którą należy następnie przetworzyć w poszukiwaniu następującego klucza:
  
    "event_type" - powinien zawierać adres string "stat_result", jeśli zdarzenie zostało wywołane przez tę funkcję
  
  Jeśli typ zdarzenia dotyczy tej funkcji, pojawi się również następujący klucz dodatkowy:
  
    "user" - przechowuje identyfikator użytkownika dla żądanych statystyk.
  
  Może też istnieć dodatkowy zestaw par klucz-wartość, gdzie kluczem jest nazwa żądanej statystyki, a wartością wartość dla tej statystyki na stronie server. Należy pamiętać, że jeśli dana statystyka nigdy nie została utworzona dla tego użytkownika (ponieważ nie uruchomił on zdarzeń, które ją ustawiają), może nie zostać zwrócona żadna wartość dla tej statystyki (ds_map_exists() można użyć do sprawdzenia statystyk w mapie async_load ).
  Jeśli żądanie zakończy się niepowodzeniem z powodu zbyt dużej długości żądania, na wyjściu konsoli powinien pojawić się komunikat z kodem błędu:
  xboxlive_get_stats_for_user - exception occurred getting results - 0x80190190
  W takim przypadku na mapie DS zdarzenia asynchronicznego powinien znajdować się klucz "succeeded" o wartości "0" i w takim przypadku należy spróbować pobrać mniejszą liczbę statystyk w jednym wywołaniu.
   
  Składnia:
  xboxlive_get_stats_for_user(user_id, serviceconfig_id, statname1, …);
  
    
      
        Argument
        Typ
        Opis
      
      
        user_id
        Identyfikator użytkownika konsoli Xbox
        The user ID pointer.
      
      
        serviceconfig_id
        String
        The service config file ID
      
      
        statname1 (2, 3, etc...)
        Struny
        The stat names to retrieve the information for.
      
    
  
   
  Zwroty:
  Real
   
  Przykład:
  var _uid = xboxlive_get_user(0);
    var _configid = "00000000-0000-0000-0000-000000000000";
    xboxlive_get_stats_for_user(xbuser, _configid, "GameProgress", "CurrentMode");
  Powyższy kod pobiera identyfikator użytkownika, a następnie używa go do żądania informacji o statystykach dla tego użytkownika.
   
   
   
  
    
      
        Powrót: Statystyki i rankingi
        Następny: xboxlive_read_player_leaderboard
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

