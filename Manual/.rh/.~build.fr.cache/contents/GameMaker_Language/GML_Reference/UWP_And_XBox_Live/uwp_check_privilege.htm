
  
  uwp_check_privilege
  Za pomocą tej funkcji można sprawdzić, czy dany użytkownik posiada wybrany przywilej. Funkcja zwróci true lub false w systemowym zdarzeniu asynchronicznym w zależności od tego, czy przywilej jest włączony czy nie, a jeśli ustawisz argument attempt_resolution na true, a przywilej nie jest włączony, otworzy ona również okno dialogowe systemu (zawieszając grę), aby zachęcić użytkownika do uaktualnienia konta lub cokolwiek jest wymagane do uzyskania przywileju. Jeśli użytkownik włączy wymaganą opcję, funkcja zwróci wartość true.
  Funkcja wymaga użycia jednego z następujących elementów Stała uprawnienia UWPdla żądania uprawnienia:
  
    
      
      
    
    
      
        Stała uprawnienia UWP
      
      
        Stała
        Opis
      
      
        uwp_privilege_internet_browsing
        Sprawdź, czy przeglądanie Internetu jest dozwolone
      
      
        uwp_privilege_social_network_sharing
        Sprawdź, czy dozwolone jest udostępnianie w sieciach społecznościowych
      
      
        uwp_privilege_share_kinect_content
        Sprawdź, czy dozwolone jest udostępnianie kontrolera Kinect
      
      
        uwp_privilege_video_communications
        Sprawdź, czy dozwolona jest komunikacja wideo
      
      
        uwp_privilege_communications
        Sprawdź, czy komunikacja internetowa jest dozwolona
      
      
        uwp_privilege_user_created_content
        Sprawdź, czy dostęp do treści utworzonych przez użytkownika jest dozwolony
      
      
        uwp_privilege_multiplayer_sessions
        Sprawdź, czy dozwolone są sesje online dla wielu graczy
      
      
        uwp_privilege_sessions
        Sprawdź, czy sesje online są dozwolone
      
      
        uwp_privilege_fitness_upload
        Sprawdź, czy dozwolone jest przesyłanie danych dotyczących kondycji fizycznej.
      
    
  
   
  Po wywołaniu funkcji, na stronie XBox One wywoła ona asynchroniczne zdarzenie systemowe po otrzymaniu wyniku wywołania zwrotnego, które będzie miało specjalną mapę DS async_load. Mapę tę należy następnie przetworzyć pod kątem następującego klucza:
  
    "event_type" - powinno mieć wartość "check_privilege_result", jeśli zdarzenie zostało wywołane przez tę funkcję
  
  Jeśli typ zdarzenia odnosi się do tej funkcji, to po wywołaniu funkcji na konsoli XBox zostaną wyświetlone następujące dodatkowe klawisze:
  
    "result" - będzie to jedna lub więcej z następujących wartości Stałość wyniku przywileju UWPs (wartości połączone):
      
        
          
          
          
        
        
          
            Stała wyniku uprawnienia UWP
          
          
            Stała
            Opis
            Wartość
          
          
            uwp_privilege_result_no_issue
            Nie ma problemów z uprawnieniami użytkownika
            0
          
          
            uwp_privilege_result_purchase_required
            Użytkownik musi zakupić coś dodatkowego, zwykle subskrypcję, aby uzyskać dostęp
            1
          
          
            uwp_privilege_result_aborted
            Sprawdzanie zostało przerwane.
            2
          
          
            uwp_privilege_result_banned
            Użytkownik jest wykluczony
            4
          
          
            uwp_privilege_result_restricted
            Użytkownik ma ograniczony dostęp, zwykle poprzez kontrolę rodzicielską
            8
          
        
      
    
    
    "privilege" - będzie jedną ze stałych wymienionych powyżej do użycia w funkcji, tak aby można było sprawdzić, o który przywilej wystąpiono w przypadku wielokrotnego sprawdzania.
  
  Jeśli projekt jest uruchamiany na platformie UWP, która nie ma adresu XBox One, wówczas zdarzenie Async nie zostanie wywołane, a zamiast tego funkcja natychmiast zwróci wartość -1, 0 lub 1, gdzie:
  
    -1 oznacza -1 użytkownik nie ma uprawnień
    0 oznacza, że funkcja nie zdołała wysłać zapytania do użytkownika
    1 oznacza, że użytkownik ma uprawnienia.
  
   
  Składnia:
  uwp_check_privilege(user_id, privilege, attempt_resolution);
  
    
      
        Argument
        Typ
        Opis
      
      
        user_id
        Identyfikator użytkownika konsoli Xbox
        The User ID pointer to check.
      
      
        privilege
        Stała uprawnienia UWP
        The privilege constant to check (see description, above).
      
      
        attempt_resolution
        Boolean
        Enable attempting a resolution if set to truelub ignorować, jeśli jest ustawiona na false.
      
    
  
   
  Zwroty:
  Real
   
  Przykład:
  var user_one = xboxlive_get_user(0);
    if (xboxlive_user_is_signed_in(user_one))
    {
        uwp_check_privilege(user_one, xboxlive_privilege_multiplayer_sessions, true);
    }
  Powyższe polecenie sprawdza, czy użytkownik jest zalogowany, a jeśli tak, to sprawdza uprawnienia do sesji wieloosobowych.
   
   
   
  
    
      
        Powrót: UWP i XBox Live
        Następny: uwp_suspend
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

