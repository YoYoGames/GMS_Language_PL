
  
  instanceof
  Tej funkcji można użyć, aby uzyskać nazwę funkcji konstruktora, która została użyta do utworzenia strony struct. Strona struct powinna zostać utworzona przy użyciu funkcji  new wraz z samym konstruktorem. Podajesz zmienną z referencją struct do sprawdzenia, a funkcja zwróci albo string z nazwą funkcji, albo undefined.
  Zwróć uwagę, że jeśli przekażesz funkcji struct literal (tzn. struct, który został utworzony bez użycia funkcji konstruktora), to zwróci ona po prostu "struct" string .
  Funkcji tej można również użyć do sprawdzenia, czy odwołanie struct jest słabe odwołanie lub nie, w takim przypadku funkcja zwróci string "weakref" zamiast nazwy funkcji, która utworzyła struct. Więcej informacji można znaleźć w funkcji weak_ref_create().
  Nazwa konstruktora, która jest zwracana, może być różna w zależności od tego, gdzie funkcja konstruktora została utworzona. Jeśli został on utworzony wewnątrz object, to jego nazwa będzie zawierała adres object oraz zdarzenie, w którym został utworzony. Na przykład, konstruktor o nazwie test_constructor utworzony w zdarzeniu Create obiektu1 zostanie zwrócony jako "test_constructor_gml_Object_Object1_Create_0". Aby tego uniknąć, należy tworzyć konstruktory w zdarzeniach script.
   
  Składnia:
  instanceof(struct_id);
  
    
      
        Argument
        Typ
        Opis
      
      
        struct
        Struktura
        The struct reference to use.
      
    
  
   
  Zwroty:
  String or undefined
   
  Przykład rozszerzony:
  W tym przykładzie musimy najpierw zdefiniować funkcję, która zostanie użyta jako konstruktor struktury:
  function init_struct(_a, _b, _c) constructor
    {
        a = _a;
        b = _b;
        c = _c;
    }
  Funkcji tej można następnie użyć wraz z operatorem new do utworzenia strony struct i wypełnienia jej zmiennymi ustawionymi na wartości argumentów użytych w funkcji:
  mystruct = new init_struct(10, 100, "Hello World");
  Następnie możemy uzyskać nazwę funkcji konstruktora, która została użyta w ten sposób:
  var _name = instanceof(mystruct);
    if is_string(_name)
    {
        show_debug_message(_name);
    }
  Spowoduje to wydrukowanie w dzienniku wyjścia adresu string "init_struct".
   
   
  
    
      
        Powrót: Funkcje zmienne
        Następny: array_create
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

