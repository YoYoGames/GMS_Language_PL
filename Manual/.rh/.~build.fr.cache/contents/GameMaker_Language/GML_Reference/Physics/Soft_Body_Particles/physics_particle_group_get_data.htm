
  
  physics_particle_group_get_data
  Ta funkcja zwraca różne informacje o grupie cząstek w symulacji fizycznej przy użyciu podanego flags sprawdzonego. Indeks grupy (jej ID) jest taki, jaki został zwrócony przez funkcję physics_particle_group_end()a użyty adres buffer musi być utworzony wcześniej za pomocą funkcji buffer_create(). Powinien on być typu "grow", a jego rozmiar powinien być zbliżony do oczekiwanego rozmiaru zwracanych danych. Same adresy flags są ustawiane za pomocą stałych podanych poniżej, a do utworzenia pojedynczej wartości flag w celu uzyskania żądanych informacji należy użyć bitownicy lub "|".
  
    
      
        Stała
        Opis
        Typ danych
      
      
        phy_particle_data_flag_typeflags
        Wartość flags dla cząstki.
        buffer_u32
      
      
        phy_particle_data_flag_position
        Położenie x i y cząstki.
        2 x buffer_f32
      
      
        phy_particle_data_flag_velocity
        Prędkość pozioma i pionowa.
        2 x buffer_f32
      
      
        phy_particle_data_flag_colour
        Kolor i wartość alfa (w systemie szesnastkowym).
        buffer_f32
      
      
        phy_particle_data_flag_category
        Kategoria cząstki (określona podczas tworzenia grupy, do której należy cząstka).
        buffer_u32
      
    
  
   
  Składnia:
  physics_particle_group_get_data(group, buffer, flags)
  
    
      
        Argument
        Typ
        Opis
      
      
        group
        Identyfikator grupy cząstek fizycznych
        The group index (ID) of the particle group to get the data from.
      
      
        buffer
        Identyfikator bufora
        The (previously created) buffer to use to store the data.
      
      
        flags
        Dane dotyczące cząstek fizyki Flag Stała(y)
        The flags to use to extract data about specific particle types.
      
    
  
   
  Zwroty:
  N/A
   
  Przykład:
  var count = physics_particle_group_count(gp);
    var flags = phy_particle_data_flag_position | phy_particle_data_flag_colour;
    if (count > 0)
    {
        var buffer = buffer_create(count * 12, buffer_grow, 4);
        physics_particle_group_get_data(gp, buffer, flags);
        for (var n = 0; n < count; n++;)
        {
            var xx = buffer_read(buffer, buffer_f32);
            var yy = buffer_read(buffer, buffer_f32);
            var argb = buffer_read(buffer, buffer_u32);
            var alpha = (argb >> 24) & 255;
            draw_sprite_ext(sprBlob, 0, xx, yy, 1, 1, 0, c_green, alpha);
        }
        buffer_delete(buffer);
    }
  Powyższy kod pobiera położenie i prędkość każdej cząstki w grupie indeksowanej przez zmienną "gp", przechowuje dane buffer w kilku zmiennych, a następnie wykorzystuje je do narysowania strony sprite w miejscu każdej cząstki w grupie.
   
   
   
  
    
      
        Powrót: Miękkie cząstki ciała
        Następny: physics_particle_create
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

