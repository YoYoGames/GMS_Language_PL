
  
  physics_joint_gear_create
  Jeśli chcesz stworzyć skomplikowaną mechaniczną konstrukcję, możesz użyć kół zębatych. Zasadniczo można tworzyć przekładnie w witrynie GameMaker Studio 2, używając instancji złożonych do modelowania zębów przekładni, ale nie jest to zbyt wydajne i może być uciążliwe dla autora! Na szczęście istnieje prostsza metoda, polegająca na użyciu złącza kół zębatych. Aby go utworzyć, należy wcześniej zdefiniować zamocowania i utworzyć dwa podstawowe przeguby, które będą składały się na przekładnię - muszą się one składać z jednego przegubu obrotowego i przegubu pryzmatycznego lub innego przegubu obrotowego. Poniższy rysunek przedstawia typowy sposób tworzenia przekładni w grze:
  Co się dzieje? Cóż, po dodaniu dwóch przegubów do przekładni interakcja z jednym z nich będzie miała wpływ na drugi, więc na powyższym rysunku przykładowym, jeśli obrócisz inst2, inst3 poruszy się w górę i w dół, lub jeśli poruszysz inst3 w górę i w dół, inst2 się obróci. Można też zmienić przełożenie, co oznacza, że aby uzyskać pożądany efekt, trzeba przesunąć jedną instancję więcej (lub mniej). Kod w przykładzie na dole pokazuje, jak można utworzyć coś takiego jak powyższy obrazek.
  UWAGA: Jeśli chcesz usunąć którąś z dwóch instancji biorących udział w połączeniu biegowym (lub po prostu usunąć ich połączenia), musisz najpierw usunąć połączenie biegowe, korzystając z polecenia physics_joint_delete() w przeciwnym razie pojawi się błąd!
   
  Składnia:
  physics_joint_gear_create(inst1, inst2, joint_1, joint_2, ratio)
  
    
      
        Argument
        Typ
        Opis
      
      
        inst1
        Identyfikator instancji
        The first instance to connect with the joint
      
      
        inst2
        Identyfikator instancji
        The second instance to connect with the joint
      
      
        joint_1
        Real
        A previously defined revolute joint
      
      
        joint_2
        Real
        A previously defined revolute or prismatic joint
      
      
        ratio
        Real
        Set the velocity ratio between the two joints
      
    
  
   
  Zwroty:
  Physics Joint ID
   
  Przykład:
  var t_fix, g_fix, inst1, inst2, inst3, r_joint, p_joint;
    g_fix = physics_fixture_create();
    physics_fixture_set_box_shape(g_fix, 40, 10);
    t_fix = physics_fixture_create();
    physics_fixture_set_circle_shape(t_fix, 10);
    physics_fixture_set_density(t_fix, 0.5);
    inst1 = instance_create_layer(60, room_height - 30, "Background", obj_Ground);
    inst2 = instance_create_layer(40, room_height - 300, "Instances", obj_Cog);
    inst3 = instance_create_layer(150, room_height - 300, "Instances", obj_Barrel);
    physics_fixture_bind(g_fix, inst1);
    physics_fixture_bind(t_fix, inst2);
    physics_fixture_bind(t_fix, inst3);
    r_joint = physics_revolute_joint_create(inst1, inst2, 40, room_height - 300, -80, 80, 1, 10, 0.5, 1, 0);
    p_joint = physics_prismatic_joint_create(inst1, inst3, 150, room_height - 300, 0, 1, -10, 10, true, 0, 0, 0, 0);
    physics_gear_joint_create(inst2, inst3, r_joint, p_joint, 0.5);
  Powyższy kod tworzy i definiuje dwa zamocowania, a następnie tworzy trzy instancje, jedną "obj_Ground" i dwie inne, "obj_Cog" i "obj_Barrel". Następnie z tymi instancjami są wiązane mocowania i tworzone są dwa przeguby. Przegub obrotowy między podłożem a trybikiem oraz przegub pryzmatyczny między podłożem a beczką. Na koniec tworzony jest przegub zębaty między instancjami trybika i beczki z wykorzystaniem wcześniej zdefiniowanych przegubów obrotowych i pryzmatycznych.
   
   
   
  
    
      
        Plecy: Stawy
        Następny: physics_joint_rope_create
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

