
  
  bufor_tworzony
  Używasz tej funkcji, aby przydzielić część pamięci jako buffer w swojej grze. Funkcja zwraca unikalny identyfikator bufora, który powinien być przechowywany w zmiennej i używany we wszystkich dalszych wywołaniach funkcji na buffer. buffer może być następnie użyty do przechowywania różnych typów danych (określonych podczas zapisu do buffer za pomocą funkcji buffer_write() przy czym do określenia typu buffer należy użyć następujących stałych:
  
    
      
      
    
    
      
        Typ bufora Stała
      
      
        Stała
        Opis
      
      
        buffer_fixed
        Strona buffer o stałej wielkości.
      
      
        buffer_grow
        Strona buffer, która będzie "rosła" dynamicznie w miarę dodawania danych.
      
      
        buffer_wrap
        Strona buffer, na której dane będą "zawijane". Gdy dodawane dane osiągną limit rozmiaru strony buffer, nadpisanie zostanie umieszczone z powrotem na początku strony buffer, a dalszy zapis będzie kontynuowany od tego miejsca.
      
      
        buffer_fast
        Specjalny "pozbawiony" adres buffer, na którym odczyt/zapis jest bardzo szybki. Można go używać tylko z typami danych buffer_u8 i musi być wyrównany do 1 bajtu.
      
      
        buffer_vbuffer
        Ten typ strony buffer należy stosować wyłącznie jako stronę vertex buffer.
      
    
  
  Oprócz typu buffer należy także ustawić wyrównanie bajtów dla adresu buffer. Wartość ta zależy od danych, które mają być przechowywane w adresie buffer, i w większości przypadków wartość 1 jest jak najbardziej odpowiednia. Należy jednak pamiętać, że w przypadku niektórych operacji określone wyrównanie jest niezbędne, a nieprawidłowe wyrównanie może powodować błędy (więcej szczegółów na temat wyrównania można znaleźć w temacie Bufory). Poniżej przedstawiono ogólny przewodnik pokazujący, jakie wartości są najbardziej odpowiednie dla poszczególnych typów danych (w razie wątpliwości należy używać wyrównania do 1):
  
    Łańcuchy powinny być wyrównane do 1 bajtu.
    Znakowe lub niepodpisane 8-bitowe liczby całkowite mogą być wyrównane do dowolnej wartości, ale należy pamiętać, że w przypadku szybkiej strony buffer (zob. buffer_write()) muszą być wyrównane do 1.
    Podpisane lub niepodpisane 16-bitowe liczby całkowite powinny być wyrównane do 2 bajtów.
    Podpisane lub niepodpisane 32-bitowe liczby całkowite powinny być wyrównane do 4 bajtów.
    Dane zmiennoprzecinkowe o długości do 16 bitów powinny być wyrównane do 2 bajtów. (Obecnie nieobsługiwane!)
    Dane zmiennoprzecinkowe o długości do 32 bitów powinny być wyrównane do 4 bajtów.
    Dane zmiennoprzecinkowe o długości do 64 bitów powinny być wyrównane do 8 bajtów.
  
  UWAGA: Wyrównanie bajtów może być bardzo ważne, ponieważ niewłaściwy wybór może negatywnie wpłynąć na wydajność.
  UWAGA: Ważne jest, aby usuwać z pamięci wszelkie dynamicznie tworzone zasoby, gdy nie są już potrzebne, aby zapobiec wyciekom pamięci, więc po zakończeniu pracy z utworzoną stroną buffer należy ją ponownie zwolnić, korzystając z polecenia buffer_delete().
   
  Składnia:
  buffer_create(size, type, alignment)
  
    
      
        Argument
        Typ
        Opis
      
      
        size
        Real
        The size (in bytes) of the buffer.
      
      
        type
        Typ bufora Stała
        The type of buffer to create (see the constants list above).
      
      
        alignment
        Real
        The byte alignment for the buffer
      
    
  
   
  Zwroty:
  Buffer ID
   
  Przykład:
  player_buffer = buffer_create(16384, buffer_fixed, 2);
  Powyższy kod alokuje 16384 bajty pamięci na stronę buffer i zwraca indeks tej strony buffer, który jest przechowywany w zmiennej "player_buffer", do wykorzystania w przyszłości. Adres buffer jest wyrównany do granicy dwóch bajtów.
   
   
   
  
    
      
        Powrót: Bufory
        Następny: buffer_create_from_vertex_buffer
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

