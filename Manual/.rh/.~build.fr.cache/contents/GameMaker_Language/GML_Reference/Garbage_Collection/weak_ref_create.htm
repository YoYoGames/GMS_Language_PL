
  
  weak_ref_create
  Za pomocą tej funkcji można utworzyć słabe odnies ienie do struct, które następnie można wykorzystać do sprawdzenia, czy struct nadal "żyje" (ma odniesienie), czy nie w grze. Podajesz referencję do strony struct, którą chcesz śledzić, a funkcja zwróci inną stronę struct, która jest słabą referencją do tej strony struct. Zauważ, że możesz sprawdzić, czy odniesienie jest "silne" czy "słabe", używając funkcji instanceof(), ponieważ silne odniesienie zwróci albo "struct" lub nazwę funkcji konstruktora, która utworzyła struct, albo "weakref", jeśli jest to słabe odniesienie. Należy również pamiętać, że słaba referencja struct będzie miała zmienną "ref", do której można uzyskać dostęp, aby uzyskać silną referencję do danej strony struct, chyba że została ona wyrzucona do śmieci - w takim przypadku zwróci ona undefined.
   
  Składnia:
  weak_ref_create(struct_to_track);
  
    
      
        Argument
        Typ
        Opis
      
      
        struct_to_track
        Struktura
        The struct that you want to create a weak reference for
      
    
  
   
  Zwroty:
  Struct Weak Reference
   
  Przykład:
  inventory_ref = weak_ref_create(inventory);
  Powyższy kod tworzy słabe odwołanie do strony struct i przechowuje je w zmiennej instancji do późniejszego wykorzystania.
   
   
   
  
    
      
        Powrót: Garbage Collection
        Następny: weak_ref_alive
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

