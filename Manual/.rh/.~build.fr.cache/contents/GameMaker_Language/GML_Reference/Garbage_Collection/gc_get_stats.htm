
  
  gc_get_stats
  Za pomocą tej funkcji można uzyskać informacje o bieżącym stanie odśmiecania. Funkcja zwróci strukturę, która będzie miała następujące zmienne członkowskie (należy pamiętać, że "obiekty" odnoszą się tutaj do wszystkiego, co można odśmiecać, a nie do ogólnych instancji object zdefiniowanych w przeglądarce Asset ):
  
    
      
      
      
    
    
      
        Struktura Statystyki GC
      
      
        Zmienna
        Typ
        Opis
      
      
        objects_touched
        Real
        Jest to liczba aktywnych stron objects znalezionych przez odśmiecacz w poprzedniej ramce. Liczba ta będzie się różnić w zależności od tego, które pokolenie zostało pobrane.
      
      
        objects_collected
        Real
        Liczba stron objects, które według ustaleń garbage collectora nie były aktywne w poprzedniej ramce i które można było usunąć.
      
      
        traversal_time
        Real
        Jest to czas w mikrosekundach (w głównym wątku), jaki zajęło odśmiecanie, aby dowiedzieć się, które strony objects są aktywne.
      
      
        collection_time
        Real
        Jest to czas w mikrosekundach (w osobnym wątku), jaki zajęło odśmiecanie strony objects uznanej za nieaktywną.
      
      
        gc_frame
        Real
        Jest to licznik, który jest inkrementowany po każdym przejściu odśmiecania. Jeśli zbieranie śmieci jest wyłączone, licznik ten nie będzie zwiększany.
      
      
        generation_collected
        Real
        Jest to indeks pokolenia, które zostało zebrane jako ostatnie. 0 oznacza najmłodsze pokolenie, a 3 - najstarsze.
      
      
        num_generations
        Real
        Jest to całkowita liczba generacji odśmiecania.
      
      
        num_objects_in_generation
        Array z Prawdziwes
        Jest to tablica (o rozmiarze num_generations) zawierająca liczbę objects w każdym pokoleniu.
      
    
  
  UWAGA: Na platformie docelowej HTML5 zbieranie śmieci jest obsługiwane przez silnik JavaScript, dlatego zmienne członkowskie w powyższym struct zwrócą 0, jeśli ta funkcja zostanie użyta na tej platformie.
  Podczas korzystania z tej funkcji należy pamiętać, że informacje wyświetlane na stronie objects są aktualizowane dopiero po zakończeniu przetwarzania pełnego pokolenia, co może zająć kilka klatek w zależności od ustawienia czasu ramki (więcej informacji na temat czasu ramki można znaleźć tutaj ).
   
  Składnia:
  gc_get_stats();
   
  Zwroty:
  GC Stats Struct
   
  Przykład:
  if (global.debug == true)
    {
        var _s = gc_get_stats();
        var _t = _s.traversal_time;
        var _c = _s.collection_time;
        show_debug_message("Traversal time = " + string(_t))
        show_debug_message("Collection time = " + string(_c))
    }
  Powyższy kod sprawdza zmienną globalną i jeśli ma ona wartość true, pobiera informacje z kolektora śmieci i wysyła je na konsolę w postaci komunikatów debugowania.
   
   
   
  
    
      
        Powrót: Garbage Collection
        Następny: gc_enable
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

