
  wideo_rysuj
  Ta funkcja rysuje bieżącą klatkę otwartego filmu wideo na powierzchni (lub dwóch powierzchniach). Zwraca powierzchnię (powierzchnie) jako część zwracanej tablicy, którą można narysować ręcznie.
  Funkcja zwraca również dane dotyczące stanu obrazu wideo, które omówiono poniżej.
  Upewnij się, że jest on wywoływany tylko po wywołaniu video_open(), ale przed wywołaniem video_close(), w przeciwnym razie nie wykona żadnego działania (ponieważ nie zostanie załadowany film).
  Dane dotyczące powrotu
  Funkcja zwróci tablicę, której pierwszy element ([0]) będzie wartością rzeczywistą. Wartość ta określa stan filmu i będzie to:
  
    0, jeśli film jest odtwarzany bez żadnych problemów
    -1, jeśli wystąpił błąd
    Na niektórych platformach, -2, jeśli film zakończył odtwarzanie (w tym momencie można go usunąć z pamięci za pomocą wywołania video_close() )
      
        Zaleca się używanie wywołań zwrotnych asynchronicznych, aby wiedzieć, kiedy film się kończy
      
    
  
  Gdy wartość tego stanu wynosi 0, tablica będzie zawierała więcej danych, których ilość będzie zależała od formatu wideo. Format wideo można poznać, wywołując adres video_get_format().
  Filmy RGBA
  W przypadku filmów RGBA pozycja [1] będzie zawierać powierzchnię, na której została narysowana klatka wideo. Można uzyskać tę powierzchnię i narysować ją ręcznie.
  Wideoklipy YUV
  Niektóre platformy (zwłaszcza konsole) używają formatu kolorów YUV dla filmów wideo, który wykorzystuje dwie powierzchnie. W takim przypadku tablica będzie miała pozycje [1] i [2] z dwiema powierzchniami:
  
    [1] to główna powierzchnia wideo w czerni i bieli
    [2] to powierzchnia chromatyczna, która zawiera wszystkie dane o kolorze
  
  Obie te powierzchnie są następnie łączone przy użyciu YUV shader, a następnie wykorzystywane do texture niestandardowego quada, który będzie rysował obraz wideo na ekranie.
  Przeczytaj film wideo YUV, aby poznać kolejne etapy rysowania tych dwóch powierzchni za pomocą strony shader.
  Szczegółowe informacje na temat implementacji danej konsoli można znaleźć w jej dokumentacji w dziale pomocy technicznej YoYo Games.
   
  Składnia:
  video_draw();
   
  Zwroty:
  Array
   
  Przykład:
  var _data = video_draw();
    var _status = _data[0];
    
    if (_status == 0)
    {
        var _surface = _data[1];
    
        draw_surface(_surface, x, y);
    }
  
  Powyższy kod wywołuje stronę video_draw() i sprawdza, czy zwrócony stan wynosi 0, co oznacza, że film jest odtwarzany. W takim przypadku pobiera identyfikator powierzchni i rysuje ją w miejscu, w którym znajduje się instancja. Ta metoda działa tylko w przypadku filmów RGBA.
   
   
   
  
    
      
        Wstecz: Odtwarzanie wideo
        Następny: Filmy YUV
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

