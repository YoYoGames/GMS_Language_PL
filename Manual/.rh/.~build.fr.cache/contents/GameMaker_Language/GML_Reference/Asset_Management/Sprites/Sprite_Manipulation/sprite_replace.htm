
  
  sprite_replace
  Ta funkcja działa prawie tak samo jak sprite_add()z tą różnicą, że zamiast zwracać indeks importowanej strony sprite, nadpisuje wcześniej utworzony indeks sprite. Używając tej funkcji, powinieneś używać indeksu sprite, który został utworzony i zapisany w zmiennej przy użyciu innych funkcji, takich jak sprite_add() lub sprite_create_from_surface(), lub nawet sprite_duplicate(), a nie z drzewa zasobów sprite asset. Za pomocą tej funkcji możesz zastąpić stronę sprite z gry assets, ale oznacza to, że stracisz identyfikator referencyjny zastępowanej strony sprite, niezależnie od tego, czy wywołasz game_restart(), czy nie, więc nie jest to zalecane. Niezależnie od zastępowanej strony sprite, funkcja ta utworzy nową stronę texture dla sprite 'a, dlatego należy zachować ostrożność przy jej używaniu, ponieważ może ona negatywnie wpłynąć na wydajność, zwiększając liczbę wymaganych zamiany stron texture podczas renderowania.
  Wczytywany plik graficzny powinien być zawsze w formacie *.png, a wszystkie obrazki, które mają zostać przekształcone w animowane strony sprites, powinny mieć format "paska" (patrz obrazek poniżej). Zostaną one podzielone na określoną liczbę podobrazów zgodnie z zasadą: szerokość sprite'a = szerokość paska / podobrazy.
  
  Jak widać na powyższym obrazku, strona sprite została umieszczona na ciemnofioletowym tle, które można usunąć, ustawiając argument "removeback" na true. Działa to w ten sposób, że sprawdza się kolor lewego dolnego piksela strony sprite, a następnie używa się go jako koloru do usunięcia. Na przykład na powyższym obrazku, gdybyśmy jako kolor lewego dolnego piksela podali zielony, wszystkie zielone części strony sprite zostałyby usunięte, a reszta fioletowego tła zignorowana.
  Jeśli wybierzesz opcję "removeback", możesz także chcieć, aby GameMaker Studio 2 wygładził krawędzie sprite, ustawiając argument "smooth" na true. W ten sposób na krawędziach strony sprite zostanie utworzona półprzezroczysta obwódka po usunięciu z niej tła.
  Możesz także określić początek x i y dla sprite. Jest to punkt, w którym sprite jest "przymocowana" do instancji, która jej używa, i jest zawsze obliczany jako względny w stosunku do 0,0 lewego górnego rogu jednego z podobrazi sprite. Tak więc na przykład obraz sprite o rozmiarach 32 x 32 pikseli z tymi wartościami ustawionymi na (16,16) będzie miał swój początek w środku.
  Domyślnie wszystkie nowe strony sprites mają automatycznie obliczane ramki ograniczające (dokładna wielkość ramki zależy od rozmiaru i przezroczystości strony sprite), jednak można to dostosować do własnych potrzeb, w takim przypadku należy również użyć funkcji sprite_collision_mask().
  UWAGA: W zależności od wybranej platformy docelowej istnieją ograniczenia co do miejsca, z którego można zapisywać i wczytywać pliki. Więcej informacji można znaleźć w części Obsługa plików.
  UWAGA: Należy pamiętać, że jeśli używasz tej funkcji w grze docelowej HTML5 do ładowania zasobów z zewnętrznej strony server, to ze względu na zabezpieczenia XSS w przeglądarkach, próby ładowania zasobów z innych domen mogą zostać zablokowane i mogą zwracać puste wyniki.
   
  Składnia:
  sprite_replace(ind, fname, imgnumb, removeback, smooth, xorig, yorig);
  
    
      
        Argument
        Typ
        Opis
      
      
        ind
        Aktywa Sprite
        The index of the sprite to permanently replace.
      
      
        fname
        String
        The filename of the image to make the new sprite.
      
      
        imgnumb
        Real
        The number of frames the sprite will be cut up into horizontally. Use 1 for one single image or *.gif.
      
      
        removeback
        Boolean
        Indicates whether to make all pixels with the background colour (left-bottom pixel) transparent.
      
      
        smooth
        Boolean
        Indicates whether to smooth the edges.
      
      
        xorig
        Real
        The x coordinate of the origin, relative to the sprite's top left corner.
      
      
        yorig
        Real
        The y coordinate of the origin, relative to the sprite's top left corner.
      
    
  
   
  Zwraca
  N/A
   
  Przykład:
  sprite_replace(spr_banner, "gravemaker.png", 1, false, false, 0, 0);
  Powyższy kod zastąpi obraz asset zaindeksowany w "spr_banner" innym, załadowanym z zewnętrznego źródła.
   
   
   
  
    
      
        Powrót: Manipulacja sprite'ami
        Następny: sprite_duplicate
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

