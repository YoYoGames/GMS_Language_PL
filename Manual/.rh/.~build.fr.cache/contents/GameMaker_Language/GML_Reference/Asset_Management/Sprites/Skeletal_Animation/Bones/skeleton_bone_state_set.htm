
  
  szkielet_stanu_kości
  Animacja szkieletu składa się z pewnej liczby "kości", które zostały zdefiniowane i nazwane w programie animacji, a ta funkcja może być używana do ustawiania w dowolnym momencie pewnych danych dla nazwanej kości. Należy pamiętać, że dane te ustawią aktualną pozycję szkieletu w zależności od użytego zestawu animacji. Funkcja wymaga uprzednio utworzonej mapy DS, która powinna zawierać następujące klucze i ich wymagane wartości:
  
    "x": Lokalna pozycja x kości względem kości macierzystej.
      
    
    "y": Lokalna pozycja y kości względem kości macierzystej.
      
    
    "angle": Lokalny obrót kości względem kości macierzystej.
      
    
    "xscale": Lokalna skala pozioma kości.
      
    
    "yscale": Lokalna skala pionowa kości.
      
    
    "parent": Nazwa (a string) kości nadrzędnej.
  
  Funkcja ta jest przeznaczona do "przechwytywania" danych animacji i modyfikowania ich przed narysowaniem na ekranie. W związku z tym należy jej użyć w zdarzeniu Inne - Aktualizacja anim acji, ponieważ zdarzenie to jest wywoływane tuż przed zdarzeniem Rysuj.
  Zauważ, że możesz użyć tej samej mapy, którą wypełniłeś za pomocą funkcji skeleton_bone_state_get() nawet jeśli zawiera ona dodatkowe klucze i wartości "Świat". Ponieważ odnoszą się one do wartości tylko do odczytu, ustawienie ich za pomocą tej funkcji nie będzie miało żadnego wpływu.
   
  Składnia:
  skeleton_bone_state_set(bone, map);
  
    
      
        Argument
        Typ
        Opis
      
      
        bone
        String
        The name (as a string) of the bone.
      
      
        map
        Identyfikator mapy DS
        The (previously created) DS map that stores the bone data.
      
    
  
   
  Zwroty:
  N/A
   
  Przykład:
  var map = ds_map_create();
    skeleton_bone_state_get("head", map);
    var xx = ds_map_find_value(map, "worldX");
    var yy = ds_map_find_value(map, "worldY");
    var deltax = mouse_x - (x + xx);
    var deltay = mouse_y - (y + yy);
    var angle = -radtodeg(arctan2(deltay, deltax));
    ds_map_replace(map, "angle", angle);
    skeleton_bone_state_set("head", map);
    ds_map_destroy(map);
  Powyższy kod tworzy mapę DS, a następnie wypełnia ją danymi z kości o nazwie "głowa". Następnie pobiera pozycję na świecie dla tej kości i wykorzystuje te dane do ustawienia "kąta" kości, aby śledzić pozycję myszy w grze.
   
   
   
  
    
      
        Grzbiet: kości
        Następny: skeleton_bone_list
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

