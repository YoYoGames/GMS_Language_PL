
  
  sprite_collision_mask
  Za pomocą tej funkcji można ustawić właściwości maski kolizji, jaką powinna mieć strona sprite. Jeśli jako tryb ramki ograniczającej zostanie wybrana opcja automatyczna (0) lub pełny obraz (1), poszczególne wartości ramki ograniczającej można ustawić na 0. Jednak w przypadku maski zdefiniowanej przez użytkownika (2) wartości te trzeba będzie ustawić. Poszczególne wartości ramek ograniczających są zawsze względne w stosunku do lewego górnego rogu strony sprite (niezależnie od punktu początkowego x i y), który jest uważany za pozycję (0, 0).
  Ustawienie rodzaju maski określa ogólny kształt samej maski, ale należy pamiętać, że maska inna niż prostokątna będzie wymagała większej mocy obliczeniowej podczas rozwiązywania kolizji, co spowoduje spadek wydajności. Ogólnie rzecz biorąc, typów masek innych niż prostokątne należy używać tylko wtedy, gdy jest to absolutnie konieczne.
  UWAGA: Ta funkcja nie pozwala na stosowanie maski kolizji w postaci obróconego prostokąta.
  Rodzaj maski, którą można ustawić, to jedna z poniższych stałych:
  
    
      
      
    
    
      
        Rodzaj ramki ograniczającej (kształt) Stała
      
      
        Stała
        Opis
      
      
        bboxkind_rectangular
        Prostokątny (nieobrotowy) prostokątny kształt maski kolizji
      
      
        bboxkind_ellipse
        Eliptyczny kształt maski kolizyjnej
      
      
        bboxkind_diamond
        Diamentowy kształt maski kolizyjnej
      
      
        bboxkind_precise
        Precyzyjna maska kolizji, w której maska będzie dopasowana do nieprzezroczystych pikseli strony sprite, w oparciu o podaną wartość tolerancji (patrz poniżej))
      
    
  
  
    Wreszcie tolerancja służy do określania stopnia dokładności maski (w przypadku użycia maski "pełnego obrazu" nie będzie to miało żadnego wpływu), przy czym tolerancja równa 0 oznacza, że maska będzie podążać za każdym pikselem o przezroczystości większej niż 0, natomiast inne wartości spowodują przesunięcie obwodu maski kolizji w zależności od przezroczystości pikseli.
  UWAGA: Ta funkcja jest przydatna tylko w przypadku map bitowych sprites i nie będzie działać z plikami SWF lub JSON (Spine) sprites.
  UWAGA: Ta funkcja będzie działać tylko na dodanych zasobach sprites lub zduplikowanych zasobach sprites, a nie bezpośrednio na wcześniej utworzonych zasobach. Możesz zduplikować stronę sprites, używając funkcji sprite_duplicate().
   
  Składnia:
  sprite_collision_mask(ind, sepmasks, bboxmode, bbleft, bbtop, bbright, bbbottom, kind, tolerance);
  
    
      
        Argument
        Typ
        Opis
      
      
        ind
        Aktywa Sprite
        The index of the sprite to set the bounding box of.
      
      
        sepmasks
        Boolean
        Whether to create collision masks for each sub-image of the sprite (true) lub jedną maskę dla wszystkich (false).
      
      
        bboxmode
        Real
        What kind of bounding box to use. 0 = automatic, 1 = full image, 2 = user defined.
      
      
        bbleft
        Real
        The maximum left position of the bounding box.
      
      
        bbtop
        Real
        The maximum top position of the bounding box.
      
      
        bbright
        Real
        The maximum right position of the bounding box.
      
      
        bbbottom
        Real
        The maximum bottom position of the bounding box.
      
      
        kind
        Rodzaj ramki ograniczającej (kształt) Stała
        The kind of mask, a constant (see the table in the description).
      
      
        tolerance
        Real
        Indicates the tolerance in the transparency value (0=no tolerance, 255=full tolerance).
      
    
  
   
  Zwraca
  N/A
   
  Przykład:
  spr = sprite_add("player_5.png", 16, true, true, 0, 0);
    sprite_collision_mask(spr, true, 1, 0, 0, 0, 0, 0, 0);
  Powyższy kod wczytuje stronę sprite z zewnętrznego źródła i zapisuje nowy indeks w zmiennej "spr". Następnie kod ustawia nową stronę sprite tak, aby dla każdego z jej podobrazów istniała dokładna maska kolizji.
   
   
   
  
    
      
        Powrót: Manipulacja sprite'ami
        Next: sprite_nineslice_create
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

