
  
  sprite_add
  Za pomocą tej funkcji można dodać obraz jako sprite, ładując go z zewnętrznego źródła, gdzie ładowany plik obrazu powinien być zawsze w formacie *.png, *.gif, *.jpg/jpeg lub *.json (pliki*json są używane do ładowania szkieletów animacji wykonanych za pomocą Spine). Funkcja zwraca nowy indeks sprite, który musi być następnie używany we wszystkich dalszych kodach odnoszących się do sprite. Jeśli używasz tej funkcji z HTML5 lub pobierasz obraz z adresu URL, funkcja ta wygeneruje również zdarzenie asynchroniczne Image Loaded. Więcej informacji można znaleźć na tej stronie.
  Wszystkie obrazy, które mają być przekształcone w animowane strony sprites - z wyjątkiem *.gif (patrz poniżej) - powinny mieć format "paska" (patrz poniższy obrazek) i zostaną podzielone na określoną liczbę podobrazów zgodnie z zasadą: szerokość sprite'a = szerokość paska / podobrazy.
  
  Jak widać na powyższym obrazku, strona sprite została umieszczona na ciemnofioletowym tle, które można usunąć, ustawiając argument "removeback" na true. Działa to w ten sposób, że sprawdza się kolor lewego dolnego piksela strony sprite, a następnie używa się go jako koloru do usunięcia. Na przykład na powyższym obrazku, gdybyśmy jako kolor lewego dolnego piksela podali zielony, wszystkie zielone części strony sprite zostałyby usunięte, a reszta fioletowego tła zignorowana.
  Jeśli wybierzesz opcję "removeback", możesz także chcieć, aby GameMaker Studio 2 wygładził krawędzie sprite, ustawiając argument "smooth" na true. W ten sposób na krawędziach strony sprite zostanie utworzona półprzezroczysta obwódka po usunięciu z niej tła.
  Możesz także określić początek x i y dla sprite. Jest to punkt, w którym sprite jest "przymocowana" do instancji, która jej używa, i jest zawsze obliczany jako względny w stosunku do 0,0 lewego górnego rogu jednego z podobrazi sprite. Tak więc na przykład obraz sprite o rozmiarach 32 x 32 pikseli z tymi wartościami ustawionymi na (16,16) będzie miał swój początek w środku.
  Jeśli dodajesz obraz w formacie *.gif, wystarczy podać nazwę pliku i numer obrazu (który powinien wynosić 1 dla pierwszej klatki), a wszystkie pozostałe argumenty można pozostawić jako 0, pamiętając, że wczytany zostanie tylko pierwszy obraz GIF. W przypadku *.json sprites numer obrazka powinien wynosić 1, a ustawienia "removeback" i "smooth" zostaną zignorowane.
  Domyślnie wszystkie nowe strony sprites mają automatycznie obliczane ramki ograniczające (dokładne ramki ograniczające zależą od rozmiaru i przezroczystości strony sprite), jednak można to dostosować do własnych potrzeb, w takim przypadku należy również użyć funkcji sprite_collision_mask().
  Należy zauważyć, że pamięć używana podczas dodawania strony sprite w ten sposób będzie większa, niż można się spodziewać. Dzieje się tak, ponieważ witryna GameMaker Studio 2 zapisze stronę sprite jako stronę texture i będzie ona również przechowywana w pamięci GPU, więc całkowita ilość pamięci będzie większa niż w przypadku pliku graficznego o tej samej nazwie sprite.
  UWAGA: Po załadowaniu strony sprite do GameMaker Studio 2 należy pamiętać o jej ponownym usunięciu (za pomocą przycisku sprite_delete()), gdy nie jest już potrzebna, w przeciwnym razie istnieje ryzyko wycieku pamięci, który spowolni, a w końcu doprowadzi do awarii gry.
  UWAGA: W systemie iOS, jeśli ładujesz dołączony plik z folderu, tj. z path, np. "Backgrounds/background1.png", NIE musisz dołączać folderu jako części adresu path i wystarczy podanie nazwy pliku. Na wszystkich innych platformach należy podać folder(y) jako część adresu path do pliku.
  UWAGA: W przypadku HTML5, jeśli ładujesz stronę sprite z bezpiecznej strony server, może być konieczne ustawienie typu cross-origin i użycie względnej strony path zamiast bezwzględnej strony path. Więcej informacji można znaleźć na stronie . http_set_request_crossorigin() aby uzyskać więcej szczegółów.
   
  Składnia:
  sprite_add(fname, imgnumb, removeback, smooth, xorig, yorig);
  
    
      
        Argument
        Typ
        Opis
      
      
        fname
        String
        The name (a string file path) of the file to add.
      
      
        imgnum
        Real
        Use to indicate the number of sub-images (1 for a single image or for a *.gif).
      
      
        removeback
        Boolean
        Indicates whether to make all pixels with the background colour (left-bottom pixel) transparent.
      
      
        smooth
        Boolean
        Indicates whether to smooth the edges if transparent.
      
      
        xorig
        Real
        Indicate the x position of the origin in the sprite.
      
      
        yorig
        Real
        Indicate the y position of the origin in the sprite.
      
    
  
   
  Zwroty:
  Sprite Asset
   
  Przykład:
  spr = sprite_add("player_5.png", 16, true, true, 0, 0);
  Powyższy kod wczytuje do gry stronę sprite i zapisuje jej indeks w zmiennej "spr".
   
   
   
  
    
      
        Powrót: Manipulacja sprite'ami
        Następny: sprite_replace
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

