
  
  tilemap_set_global_mask
  Za pomocą tej funkcji można ustawić maskę bitową kafelków dla wszystkich map tile w grze. Chodzi o to, że jeśli na przykład masz dość mały tile sets o wymiarach 16 x 16, tiles będzie miał w sumie 256 różnych tiles w każdym tile set, co wykorzystuje tylko 8 bitów indeksu w tile danych "blob" (z dostępnych 19 bitów danych). Bity te można "zamaskować", a następnie wykorzystać pozostałą część danych tile do przechowywania dodatkowych wartości.
  Łatwym sposobem na uzyskanie początkowej wartości maski indeksu jest wzięcie liczby tiles z adresu tile set i odjęcie 1, więc adres tile set o wymiarach 16x16 ma 256 adresów tiles, a wartość maski wynosi 255 (lub $ff w systemie szesnastkowym). Jeśli adres tile set ma liczbę adresów tiles, które nie są potęgą dwójki, to aby uzyskać maskę, należy zaokrąglić ją w górę do najbliższej potęgi dwójki, na przykład adres tile set o wymiarach 20x20 ma 400 adresów tiles, które należy zaokrąglić do 512, a więc uzyskać wartość indeksu maski równą 511 ($1ff w systemie szesnastkowym). Oprócz maski indeksu zwykle chciałoby się zachować wartości przerzucania, obracania i odbicia lustrzanego, które są przypisane do tile, więc aby to ułatwić, można użyć kilku stałych. Można je połączyć z wartością maski indeksu, aby zachować te bity danych. Można użyć następujących stałych (patrz przykładowy kod poniżej):
  
    
      
        Stała
        Opis
      
      
        tile_rotate
        Służy do ustawiania/odbierania bitu rotacji w bloku danych tile.
      
      
        tile_mirror
        Służy do ustawiania/odbierania bitu lustrzanego w bloku danych tile.
      
      
        tile_flip
        Służy do ustawiania/odbierania bitu przerzucania w bloku danych tile.
      
      
        tile_index_mask
        Specjalna stała, która służy do łączenia się z blokiem danych tile w celu uzyskania indeksu tile.
      
    
  
  Maskowanie bitów mapy kafelkowej to zaawansowana funkcja, która umożliwia wykorzystanie bitów "plamy" danych tile do własnych celów. Na przykład użytkownik może zarezerwować bit oznaczający "ciało stałe" w strukturze danych kafelkowych, który następnie można sprawdzać pod kątem szybkich kolizji. Zasadniczo maska bitów jest "i" połączona z danymi tile podczas rysowania mapy tile (nie wpływa więc na żadną inną funkcjonalność), co oznacza, że bity, których nie ma w masce, są ignorowane, ale użytkownik może je odczytywać i zapisywać do własnych celów. Należy pamiętać, że istnieją dwie różne maski - globalna i dla każdej mapy tile - które są wewnętrznie łączone przez program GameMaker przed użyciem do rysowania.
   
  Składnia:
  tilemap_set_global_mask(mask)
  
    
      
        Argument
        Typ
        Opis
      
      
        mask
        Real
        The mask value to use
      
    
  
   
  Zwroty:
  N/A
   
  Przykład:
  var mask = tile_mirror | tile_flip | tile_rotate | 255;
    tilemap_set_global_mask(mask);
  Powyższy kod ustawia maskę bitową globalnej mapy tile na 8 bitów, zachowując wartości przerzucania, odbicia lustrzanego i obracania dla każdej strony tile w mapie.
   
   
   
  
    
      
        Wstecz: Warstwy mapy kafelkowej
        Next:  tilemap_set_width 
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

