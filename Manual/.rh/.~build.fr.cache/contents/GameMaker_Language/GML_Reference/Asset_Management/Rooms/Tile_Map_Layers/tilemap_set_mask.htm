
  
  tilemap_set_mask
  Za pomocą tej funkcji można ustawić maskę bitową kafelków dla pojedynczej mapy tile. Podaje się identyfikator elementu mapy tile (który otrzymuje się podczas tworzenia elementu mapy tile przy użyciu layer_tilemap_create() lub przy użyciu funkcji layer_tilemap_get_id()), a następnie wartość maski. Chodzi o to, że jeśli masz na przykład dość mały adres tile set o wymiarach 16 x 16 tiles, to masz w sumie 256 różnych adresów tiles w swoim adresie tile set, który wykorzystuje tylko 8 bitów indeksu w "bloczku" danych tile (z dostępnych 19 bitów danych). Bity te można "zamaskować", a następnie wykorzystać pozostałą część danych tile do przechowywania dodatkowych wartości.
  Łatwym sposobem na uzyskanie początkowej wartości maski indeksu jest wzięcie liczby tiles z adresu tile set i odjęcie 1, więc adres tile set o wymiarach 16x16 ma 256 adresów tiles, a wartość maski wynosi 255 (lub $ff w systemie szesnastkowym). Jeśli adres tile set ma liczbę adresów tiles, które nie są potęgą dwójki, to aby uzyskać maskę, należy zaokrąglić ją w górę do najbliższej potęgi dwójki, na przykład adres tile set o wymiarach 20x20 ma 400 adresów tiles, które należy zaokrąglić do 512, a więc uzyskać wartość indeksu maski równą 511 ($1ff w systemie szesnastkowym). Oprócz maski indeksu zwykle chciałoby się zachować wartości przerzucania, obracania i odbicia lustrzanego, które są przypisane do tile, więc aby to ułatwić, można użyć kilku stałych. Można je połączyć z wartością maski indeksu, aby zachować te bity danych. Można użyć następujących stałych (patrz przykładowy kod poniżej):
  
    
      
      
    
    
      
        Maska płytki Stała
      
      
        Stała
        Opis
      
      
        tile_rotate
        Służy do ustawiania/odbierania bitu rotacji w bloku danych tile.
      
      
        tile_mirror
        Służy do ustawiania/odbierania bitu lustrzanego w bloku danych tile.
      
      
        tile_flip
        Służy do ustawiania/odbierania bitu przerzucania w bloku danych tile.
      
      
        tile_index_mask
        Specjalna stała, która służy do łączenia się z blokiem danych tile w celu uzyskania indeksu tile.
      
    
  
  Maskowanie bitów mapy kafelkowej to zaawansowana funkcja, która umożliwia wykorzystanie bitów "plamy" danych tile do własnych celów. Na przykład użytkownik może zarezerwować bit oznaczający "ciało stałe" w strukturze danych kafelkowych, który następnie można sprawdzać pod kątem szybkich kolizji. Zasadniczo maska bitów jest "i" połączona z danymi tile podczas rysowania mapy tile (nie wpływa więc na żadną inną funkcjonalność), co oznacza, że bity, których nie ma w masce, są ignorowane, ale użytkownik może je odczytywać i zapisywać do własnych celów. Należy pamiętać, że istnieją dwie różne maski - jedna globalna i jedna dla każdej mapy tile - które przed użyciem do rysowania są wewnętrznie łączone przez GameMaker Studio 2 za pomocą "i".
   
  Składnia:
  tilemap_set_mask(tilemap_element_id, mask)
  
    
      
        Argument
        Typ
        Opis
      
      
        tilemap_element_id
        Identyfikator elementu mapy kafelkowej
        The unique ID value of the tile map element to set the mask of
      
      
        mask
        Real
        The mask value
      
    
  
   
  Zwroty:
  N/A
   
  Przykład:
  var lay_id = layer_get_id("Tiles_sky");
    var map_id = layer_tilemap_get_id(lay_id);
    var mask = tile_mirror | tile_flip | tile_rotate | 255;
    tilemap_set_mask(map_id, mask);
  Powyższy kod pobiera identyfikator mapy tile z podanej warstwy, a następnie ustawia maskę bitową mapy tile na 8 bitów, zachowując wartości przerzucania, odbicia lustrzanego i obracania dla każdej strony tile w mapie.
   
   
   
  
    
      
        Wstecz: Warstwy mapy kafelkowej
        Następny: tilemap_set_global_mask
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

