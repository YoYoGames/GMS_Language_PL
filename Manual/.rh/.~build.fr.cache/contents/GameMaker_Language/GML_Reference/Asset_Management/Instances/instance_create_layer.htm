
  
  utwórz instancję_warstwę
  Za pomocą tej funkcji można utworzyć nową instancję określonej strony object w dowolnym punkcie strony room i na określonej warstwie. Warstwę można określić za pomocą wartości ID warstwy (zwracanej przez funkcję layer_create()) lub za pomocą nazwy warstwy (w postaci string, na przykład "instance_layer") zdefiniowanej w edytorze pomieszczeń.
  Funkcja ta zwraca wartość id która może być przechowywana w zmiennej i użyta do uzyskania dostępu do tej instancji. Zauważ, że funkcja ta wywoła również zdarzenie Create dla tworzonej instancji przed kontynuowaniem kodu lub akcji dla zdarzenia, które wywołało funkcję.
  WAŻNE Minimalna i maksymalna głębokość warstwy wynosi od -16000 do 16000. Wszystko, co zostanie umieszczone na warstwie spoza tego zakresu, nie zostanie narysowane, choć wszystkie zdarzenia będą przebiegać normalnie.
  Struktura opcjonalna
  Ostatni argument, var_struct, jest opcjonalny i przyjmuje postać struct zawierającą dodatkowe zmienne dla nowej instancji.
  Zmienne z tej strony struct są stosowane do nowej instancji przed uruchomieniem zdarzenia Create, ale po ustawieniu jej definicji zmiennych.
  Oznacza to, że wartości z tej strony struct można odczytać w zdarzeniu Create nowej instancji. Zobacz przykład 2 na dole strony.
  Wartości zastosowane do nowej instancji za pośrednictwem tej strony struct mogą być dowolnego typu, w tym method zmienne. Zmienne wbudowane również mogą być zmieniane.
  UWAGA Zmienne ze strony struct są "płytko kopiowane" do nowej instancji, co oznacza, że tablice, structs i inne zasoby są kopiowane przez odniesienie, a nie powielane.
   
  Składnia:
  instance_create_layer(x, y, layer_id, obj);
  
    
      
        Argument
        Typ
        Opis
      
      
        x
        Real
        The x position the object will be created at
      
      
        y
        Real
        The y position the object will be created at
      
      
        layer_id
        ID warstwy lub String
        The layer ID (or name) to assign the created instance to
      
      
        obj
        Obiekt Aktywa
        The object index of the object to create an instance of
      
      
        var_struct
        Struktura
        OPTIONAL Struktura zawierająca zmienne, które mają być przypisane do nowej instancji
      
    
  
   
  Zwroty:
  Instance ID
   
  Przykład 1:
  var inst = instance_create_layer(x, y, "Instances", obj_bullet);
    with (inst)
    {
        speed = other.shoot_speed;
        direction = other.image_angle;
    }
  Powyższy kod tworzy nową instancję object obj_bullet w warstwie "Instances" i zapisuje identyfikator instancji w zmiennej. Ta zmienna jest następnie używana do przypisywania speed i direction do nowej instancji.
  Spowoduje to najpierw utworzenie instancji, uruchomienie jej zdarzenia Create, a następnie przypisanie wartości jej zmiennym.
  Jeśli chcesz przypisać jakieś zmienne przed uruchomieniem zdarzenia Utwórz, zobacz poniższy przykład.
   
  Przykład 2:
  var inst = instance_create_layer(x, y, "Instances", obj_bullet,
    {
        speed : shoot_speed,
        direction : image_angle
    });
  Powyższy kod tworzy instancję obj_bullet, a jako ostatni argument przekazuje adres struct.
  Strona struct zawiera zmienne określające prędkość i kierunek. Pobierają one swoje wartości z instancji wywołującej, bez potrzeby używania innych.
  Zmienne te są stosowane do nowej instancji przed uruchomieniem zdarzenia Create.
  Nie jesteś ograniczony do literału struct, ponieważ możesz również przekazać zmienną przechowującą istniejącą strukturę struct, lub utworzyć strukturę new strukturę z constructor.
   
   
  
    
      
        Powrót: Instancje
        Następny: instance_create_depth
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

