
  
  animcurve_create
  Ta funkcja utworzy pustą strukturę animation curve, gotową do wypełnienia danymi kanałów. Funkcja zwróci wskaźnik do struktury struct, która jest następnie używana do dodawania kanałów i innych danych do struktury animation curve. Można ją także przekazać do funkcji takich jak animcurve_get() aby później pobrać dane z krzywej.
  W przypadku użycia tej funkcji utworzony adres struct nie będzie zawierał żadnych danych. Aby z niej skorzystać, należy dodać co najmniej jeden kanał, a kanał ten powinien mieć dodane punkty. Aby dodać kanał, zobacz funkcję animcurve_channel_new(), a aby dodać punkty do kanału, zobacz funkcję animcurve_point_new(). Dodatkowo można nadać nazwę stronie animation curve struct, ustawiając zmienną "name" (jak pokazano w kodzie przykładowym poniżej). Kanały dodawane do nowej strony animation curve powinny być dodawane jako tablica, gdzie każdy element tablicy odwołuje się do kanału struct, a punkty w kanale również powinny być dodawane jako tablica, gdzie każdy element tablicy odwołuje się do punktu struct.
   Należy pamiętać, że utworzone w ten sposób strony animation curves muszą być usuwane, gdy nie są już potrzebne, ponieważ w przeciwnym razie będą zajmować miejsce w pamięci, co może prowadzić do wycieku pamięci, spowolnienia działania gry i jej awarii. Gdy animation curve nie jest już potrzebny, można go usunąć za pomocą funkcji animcurve_destroy(). Nie musisz czyścić danych kanałów ani punktów w krzywej, ponieważ zostaną one usunięte przez garbage collector automatycznie, gdy krzywa zostanie zniszczona.
   
   
  Składnia:
  animcurve_create();
   
  Zwroty:
  Animation Curve Struct
   
  Przykład:
  my_curve = animcurve_create();
    my_curve.name = "My_Curve";
    var _channels = array_create(1);
    _channels[0] = animcurve_channel_new();
    _channels[0].name = "alpha";
    _channels[0].type = animcurvetype_catmullrom;
    _channels[0].iterations = 8;
    var _points = array_create(3);
    _points[0] = animcurve_point_new();
    _points[0].posx = 0;
    _points[0].value = 0;
    _points[1] = animcurve_point_new();
    _points[1].posx = 0.5;
    _points[1].value = 1;
    _points[2] = animcurve_point_new();
    _points[2].posx = 1;
    _points[2].value = 0;
    _channels[0].points = _points;
    my_curve.channels = _channels;
  Powyższy kod tworzy nową stronę animation curve struct i zapisuje ją w zmiennej "my_curve". Następnie na stronie struct umieszczana jest nazwa i tablica kanałów. Tablica kanałów zawiera pojedynczy kanał z trzema punktami.
   
   
   
  
    
      
        Powrót: Krzywe animacji
        Next: animcurve_exists
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

