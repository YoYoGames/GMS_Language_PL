
  
  animcurve_get_channel
  Ta funkcja zwraca strukturę zawierającą dane kanału określonego w animation curve asset. Należy podać identyfikator animation curve lub struct oraz nazwę lub indeks kanału, a funkcja zwróci struct w następującym formacie:
  
    
      
      
      
    
    
      
        Nazwa zmiennej
        Typ danych
        Opis
      
      
        name
        ciąg
        Jest to nazwa kanału.
      
      
        type
        Typ interpolacji krzywej animacji Stała
        Będzie to jedna ze stałych animcurvetype_linear dla interpolacji liniowej między punktami, animcurvetype_catmullrom dla "gładkiej" interpolacji między punktami z wykorzystaniem interpolacji katmull-rom lub animcurvetype_bezier dla interpolacji Beziera.
      
      
        iterations
        liczba całkowita
        Jeśli kanał używa interpolacji katmull-rom ("gładkiej"), wartość ta określa, ile punktów zostało wygenerowanych dla każdego segmentu krzywej (należy pamiętać, że te dodatkowe punkty są wewnętrzne dla funkcji i używane tylko do obliczeń runtime ). Jeśli kanał korzysta z interpolacji liniowej, wartość ta nadal będzie istnieć, ale można ją zignorować, ponieważ nie ma ona wpływu na sposób interpolacji krzywej.
      
      
        points
        wskaźnik do tablicy
        Jest to tablica, w której każdy element tablicy jest punktem struct.
      
    
  
  
    Identyfikator animation curve to nazwa strony animation curve zdefiniowana w przeglądarce Asset lub wskaźnik struct zwrócony przez funkcję animcurve_create(). Nazwa kanału to znak string, który odnosi się do kanału zdefiniowanego w krzywej animacji asset, lub można podać wartość indeksu z zakresu od 0 do n, gdzie n to ostatni kanał w krzywej asset (np.: jeśli animation curve ma 4 kanały, będą one indeksowane od 0 do 3). Należy zauważyć, że przekazanie wartości indeksu będzie wymagało mniej przetwarzania niż przekazanie nazwy kanału. Jeśli funkcja się nie powiedzie (tzn. nie istnieje kanał o podanej nazwie lub indeksie), zostanie wyświetlony błąd.
  Punkty na pojedynczym kanale są przechowywane jako structs w tablicy, gdzie każda pozycja w tablicy jest pojedynczym punktem struct. Punkt struct ma następujące zmienne:
  
    
      
        Nazwa zmiennej
        Typ danych
        Opis
      
      
        posx
        prawdziwy
        Położenie w czasie (znormalizowane od 0 do 1) punktu.
      
      
        value
        prawdziwy
        Wartość punktu.
      
    
  
   
   
  Składnia:
  animcurve_get_channel(curve_struct_or_id, channel_name_or_index);
  
    
      
        Argument
        Typ
        Opis
      
      
        curve_struct_or_id
        Struktura krzywej animacji
        The ID or struct pointer of the animation curve to target
      
      
        channel_name_or_index
        String lub Real
        The channel name (a string) or the channel index (an integer).
      
    
  
   
  Zwroty:
  Animation Curve Channel Struct
   
  Przykład:
  var _channeldata = animcurve_get_channel(ac_ButtonTween, 0);
    var _points = _channeldata.points;
    for (var i = 0; i < array_length(_points); ++i;)
    {
        _points[i].value += 1;
    }
  Powyższy kod pobiera kanał struct dla kanału 0 w krzywej asset "ac_ButtonTween", a następnie loops przez punkty na krzywej kanału i dodaje jeden do ich wartości.
   
   
   
  
    
      
        Powrót: Krzywe animacji
        Następny: animcurve_channel_evaluate
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

