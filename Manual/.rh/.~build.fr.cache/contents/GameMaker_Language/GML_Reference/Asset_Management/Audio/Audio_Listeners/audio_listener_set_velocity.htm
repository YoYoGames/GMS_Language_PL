
  
  audio_listener_set_velocity
  Za pomocą tej funkcji można nadać podanemu słuchaczowi efekty Dopplera i symulować ruch dźwięku na podstawie wektora wyznaczonego z podanych względnych pozycji x, y i z. Domyślnym indeksem słuchacza jest 0, ale można użyć funkcji audio_get_listener_info() aby uzyskać różne indeksy dostępne dla platformy docelowej.
  Jeśli dany słuchacz nigdy się nie porusza lub ruch nie jest stały, zwykle nie ma potrzeby ustawiania tych wartości, ale na przykład jeśli tworzysz grę przewijaną, w której gracz porusza się stale z dołu do góry, a wrogowie z góry do dołu, ustawisz prędkości słuchacza i emitera (dla emiterów użyjesz audio_emitter_velocity()) na odpowiednie wektory, aby zasymulować prawidłowy efekt Dopplera, gdy poruszają się one obok instancji gracza.
  Na poniższym rysunku pokazano, jak można to skonfigurować dla przykładowej gry przedstawionej powyżej:
  
  Składnia:
  audio_listener_set_velocity(index, x, y, z);
  
    
      
        Argument
        Typ
        Opis
      
      
        index
         Identyfikator słuchaczarzeczywistego lub dźwiękowego
        The listener to change the velocity of (default 0).
      
      
        x
        Real
        The x velocity of the listener (default 0).
      
      
        y
        Real
        The y velocity of the listener (default 0).
      
      
        z
        Real
        The z velocity of the listener (default 0).
      
    
  
   
  Zwroty:
  N/A
   
  Przykład:
  var num = audio_get_listener_count();
    for(var i = 0; i < num; ++i;)
    {
        var info = audio_get_listener_info(i);
        var data = audio_listener_get_data(info[? "index"]);
        if data[? "vx"] != 0
        {
            audio_listener_set_velocity(info[? "index"], 0, 0, 0);
        }
        ds_map_destroy(info);
        ds_map_destroy(data);
    }
  Powyższy kod sprawdza liczbę dostępnych słuchaczy, a następnie loops przez nich przechodzi i jeśli ich prędkość x nie jest równa 0, ustawia ich wartości prędkości na 0, 0, 0.
   
   
   
  
    
      
        Powrót: Słuchacze audio
        Następny: audio_listener_set_orientation
      
    
    © Copyright YoYo Games Ltd. 2022 Wszystkie prawa zastrzeżone.
  
  
  

